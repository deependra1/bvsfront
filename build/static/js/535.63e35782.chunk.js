"use strict";(self.webpackChunkmantis_free_react_admin_template=self.webpackChunkmantis_free_react_admin_template||[]).push([[535],{5535:function(e,n,o){o.r(n),o.d(n,{default:function(){return M}});var r=o(64611),i=o(9019),d=o(29439),t=o(1413),a=o(45987),s=o(47313),l=o(61113),c=o(42832),u=o(23306),h=o(49914),m=o(15480),x=o(69099),Z=o(17592),j=o(94469),g=o(33604),f=o(96467),p=o(4117),_=o(47131),v=o(11198),b=o(65954),C=o(51997),w=o(35099),D=o(1010),S=o(75506),P=o(90842),k=o(7410),y=o(3463),A=o(46417),B=["children","onClose"],z=(0,Z.ZP)(j.Z)((function(e){var n=e.theme;return{"& .MuiDialogContent-root":{padding:n.spacing(2)},"& .MuiDialogActions-root":{padding:n.spacing(1)}}}));function E(e){var n=e.children,o=e.onClose,r=(0,a.Z)(e,B);return(0,A.jsxs)(g.Z,(0,t.Z)((0,t.Z)({sx:{m:0,p:2}},r),{},{children:[n,o?(0,A.jsx)(_.Z,{"aria-label":"close",onClick:o,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}},children:(0,A.jsx)(v.Z,{})}):null]}))}function F(){var e=s.useState(!1),n=(0,d.Z)(e,2),o=n[0],r=n[1],t=(0,P.Ds)().enqueueSnackbar,a=s.useState({}),Z=(0,d.Z)(a,2),j=Z[0],g=Z[1],v=(0,D.ZP)("/donor/",S._,{revalidateOnMount:!0}),B=v.data,F=v.error,M=v.isLoading,N=v.mutate,q=[{field:"donor_name",headerName:"Donor Name",width:200,editable:!0},{field:"donor_address",headerName:"Donor Address",width:100,editable:!0},{field:"actions",headerName:"Actions",type:"actions",width:100,renderCell:function(e){return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(_.Z,{onClick:function(){return R(e)},sx:{color:"#9c27b0"},children:(0,A.jsx)(b.Z,{})}),(0,A.jsx)(_.Z,{onClick:function(){return L(e.id)},sx:{color:"#f44336"},children:(0,A.jsx)(C.Z,{})})]})}}],O=function(){g({}),r(!1)},R=function(e){g(e.row),r(!0)},L=function(e){confirm("Are you sure to delete donro information?")&&S.Z.delete("/donor/".concat(e,"/")).then((function(){t("Patient Deleted successfully!!!",{variant:"success"}),N()})).catch((function(){t("something wents wrong!!!",{variant:"error"})}))};return M?(0,A.jsx)("div",{children:"Loading..."}):F?(0,A.jsx)("div",{children:"Error on Doner"}):(0,A.jsxs)("div",{children:[(0,A.jsxs)(i.ZP,{container:!0,spacing:3,children:[(0,A.jsx)(i.ZP,{item:!0,xs:12,md:4,children:(0,A.jsx)(l.Z,{variant:"h3",gutterBottom:!0,children:"Donor Detail"})}),(0,A.jsx)(i.ZP,{item:!0,xs:12,md:6}),(0,A.jsx)(i.ZP,{item:!0,xs:12,md:2,children:(0,A.jsx)(x.Z,{variant:"outlined",onClick:function(){r(!0)},children:"Add Donor"})})]}),(0,A.jsx)(w._,{rows:B,columns:q,initialState:{pagination:{paginationModel:{pageSize:5}}},pageSizeOptions:[5],disableRowSelectionOnClick:!0}),(0,A.jsxs)(z,{onClose:O,"aria-labelledby":"customized-dialog-title",open:o,children:[(0,A.jsx)(E,{id:"customized-dialog-title",onClose:O,children:j.id?"Update Treatment Data":"Add Treatment Data"}),(0,A.jsx)(k.J9,{enableReinitialize:!0,initialValues:{donor_name:(null===j||void 0===j?void 0:j.donor_name)||"",donor_address:(null===j||void 0===j?void 0:j.donor_address)||""},validationSchema:y.Ry().shape({donor_name:y.Z_().required("Donor name is required")}),onSubmit:function(e,n){var o=n.setErrors,i=n.setStatus,d=n.setSubmitting;j.id?S.Z.put("/donor/".concat(j.id,"/"),e).then((function(){t("Patient updated successfully!!!",{variant:"success"}),i({success:!1}),d(!1),N(),g({})})).catch((function(e){t("Something went wrong while adding the donor!!!",{variant:"error"}),i({success:!1}),o({submit:e.message}),d(!1)})):S.Z.post("/donor/",e).then((function(){t("Donor added successfully!!!",{variant:"success"}),i({success:!1}),d(!1),N()})).catch((function(e){t("Something went wrong while adding the patient!!!",{variant:"error"}),i({success:!1}),o({submit:e.message}),d(!1)})),r(!1)},children:function(e){var n=e.errors,o=e.handleChange,r=e.handleSubmit,d=e.isSubmitting,t=e.touched,a=e.values,s=e.handleBlur;return(0,A.jsxs)(k.l0,{noValidate:!0,children:[(0,A.jsx)(f.Z,{dividers:!0,children:(0,A.jsxs)(i.ZP,{container:!0,spacing:3,children:[(0,A.jsx)(i.ZP,{item:!0,xs:12,md:6,children:(0,A.jsxs)(c.Z,{spacing:1,children:[(0,A.jsx)(u.Z,{htmlFor:"donor",children:"Donor*"}),(0,A.jsx)(h.Z,{fullWidth:!0,id:"donor",type:"text",value:a.donor_name,name:"donor_name",onBlur:s,onChange:o,placeholder:"Enter donor name",error:Boolean(t.donor_name&&n.donor_name)}),t.donor_name&&n.donor_name&&(0,A.jsx)(m.Z,{error:!0,id:"standard-weight-helper-text-donor_name",children:n.donor_name})]})}),(0,A.jsx)(i.ZP,{item:!0,xs:12,md:6,children:(0,A.jsxs)(c.Z,{spacing:1,children:[(0,A.jsx)(u.Z,{htmlFor:"donor_address",children:"Donate Address"}),(0,A.jsx)(h.Z,{fullWidth:!0,id:"donor_address",type:"text",value:a.donor_address,name:"donor_address",onBlur:s,onChange:o,placeholder:"Enter donor_address name",error:Boolean(t.donor_address&&n.donor_address)}),t.donor_address&&n.donor_address&&(0,A.jsx)(m.Z,{error:!0,id:"standard-weight-helper-text-donor_address",children:n.donor_address})]})})]})}),(0,A.jsxs)(p.Z,{children:[(0,A.jsx)(x.Z,{autoFocus:!0,variant:"outlined",disableElevation:!0,disabled:d,onClick:r,color:"primary",children:j.id?"Update":"Save"}),(0,A.jsx)(x.Z,{autoFocus:!0,variant:"outlined",color:"error",onClick:O,children:"Cancel"})]})]})}})]})]})}var M=function(){return(0,A.jsx)(r.Z,{title:"Donor Information",children:(0,A.jsx)(i.ZP,{container:!0,spacing:3,children:(0,A.jsx)(i.ZP,{item:!0,xs:12,md:12,children:(0,A.jsx)(F,{})})})})}}}]);