"use strict";(self.webpackChunkmantis_free_react_admin_template=self.webpackChunkmantis_free_react_admin_template||[]).push([[452],{75506:function(e,t,n){n.d(t,{_:function(){return d}});var r=n(74165),o=n(15861),a=n(56573),c=n(65470),i=n.n(c),s=n(77287),l=a.Z.create({baseURL:"https://bvsnepal.org/api",headers:{"Content-Type":"application/json"}});l.interceptors.request.use(function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.headers.Authorization="Bearer ".concat((0,s.hP)()),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),l.interceptors.response.use((function(e){return Promise.resolve(e)}),(function(e){return Promise.reject(e)}));var u=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.Z.post("/auth/refresh/",{refresh:(0,s.YV)()},{baseURL:"https://bvsnepal.org/api"}).then((function(e){var n=e.data.access;t.response.config.headers.Authorization="Bearer "+n,localStorage.setItem("auth",JSON.stringify({access:n,refresh:(0,s.YV)(),user:(0,s.PR)()}))})).catch((function(){localStorage.removeItem("auth")})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function d(e){return l.get(e).then((function(e){return e.data}))}i()(l,u),t.Z=l},9452:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});var r=n(64611),o=n(74165),a=n(15861),c=n(29439),i=n(47313),s=n(69099),l=n(99881),u=n(85281),d=n(9019),h=n(24631),v=n(42832),p=n(82753),f=n(78229),m=n(58106),Z=n(97615),x=n(77055),g=n(75506),j=n(35099),C=n(58467),y=n(1010),S=n(77287),M=n(46417),z=function(){var e=(0,C.s0)(),t=(0,i.useState)(""),n=(0,c.Z)(t,2),r=n[0],z=n[1],w=(0,i.useState)([]),A=(0,c.Z)(w,2),b=A[0],P=A[1],V=(0,i.useState)(!1),k=(0,c.Z)(V,2),I=k[0],L=k[1],H=(0,i.useState)(!1),R=(0,c.Z)(H,2),_=R[0],N=R[1],B=(0,S.PR)(),O=(0,y.ZP)("/patient/get_latest/",g._,{revalidateOnMount:!0}),T=O.data,W=O.error,E=O.isLoading;(0,i.useEffect)((function(){""===r&&(P(T||[]),N(W))}),[r,T,W]);var F=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(){var t;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.prev=1,e.next=4,g.Z.get("/patient/?search=".concat(r));case 4:t=e.sent,P(t.data),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),N(!0),console.log("Something went wrong!!!",e.t0);case 12:L(!1);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),U=[{field:"registration_number",headerName:"Reg Number",width:100,editable:!0},{field:"fullName",headerName:"Full name",description:"This column has a value getter and is not sortable.",sortable:!1,width:150,valueGetter:function(e){return"".concat(e.row.fname||""," ").concat(e.row.mname||""," ").concat(e.row.lname||"")}},{field:"actions",headerName:"Actions",type:"actions",width:750,renderCell:function(e){return(0,M.jsx)(M.Fragment,{children:(0,M.jsxs)(v.Z,{spacing:1,direction:"row",children:[(0,M.jsx)(s.Z,{variant:"outlined",startIcon:(0,M.jsx)(p.Z,{}),onClick:function(){return Y(e.id)},color:"primary",children:"Treatment"}),"acc"===B.type&&(0,M.jsx)(s.Z,{variant:"outlined",startIcon:(0,M.jsx)(f.Z,{}),onClick:function(){return $(e.id)},sx:{color:"#9c27b0"},children:"Funding"}),(0,M.jsx)(s.Z,{variant:"outlined",startIcon:(0,M.jsx)(m.Z,{}),onClick:function(){return D(e.id)},color:"error",children:"Psychosocil"}),(0,M.jsx)(s.Z,{variant:"outlined",startIcon:(0,M.jsx)(Z.Z,{}),onClick:function(){return G(e.id)},color:"warning",children:"Physiotherapy"}),(0,M.jsx)(s.Z,{variant:"outlined",startIcon:(0,M.jsx)(x.Z,{}),onClick:function(){return q(e.id)},color:"success",children:"Reintegration"})]})})}}],Y=function(t){e("/patient/treatment/".concat(t,"/"))},$=function(t){e("/patient/donor/".concat(t,"/"))},q=function(t){e("/patient/reintegration/".concat(t,"/"))},D=function(t){e("/patient/phychosocial/".concat(t,"/"))},G=function(t){e("/patient/physiotherapy/".concat(t,"/"))};return _?(0,M.jsx)("div",{children:(0,M.jsx)(l.Z,{severity:"error",children:"Something went wrong!!! \u2014 Please contact your service provider!"})}):I||E?(0,M.jsx)("div",{children:(0,M.jsx)(u.Z,{color:"success"})}):(console.log(B),(0,M.jsx)("div",{children:(0,M.jsxs)(d.ZP,{container:!0,spacing:3,children:[(0,M.jsxs)(d.ZP,{item:!0,xs:12,children:[(0,M.jsx)(h.Z,{variant:"outlined",placeholder:"Search...",value:r,onChange:function(e){z(e.target.value)}}),(0,M.jsx)(s.Z,{variant:"outlined",onClick:F,sx:{padding:1,marginLeft:1},children:"Search"})]}),(0,M.jsx)(d.ZP,{item:!0,xs:12,children:(0,M.jsx)(j._,{rows:b,columns:U,initialState:{pagination:{paginationModel:{pageSize:10}}},pageSizeOptions:[10]})})]})}))},w=function(){return(0,M.jsx)(r.Z,{title:"Patients Search",children:(0,M.jsx)(z,{})})}},77055:function(e,t,n){var r=n(91941);t.Z=void 0;var o=r(n(45045)),a=n(46417),c=(0,o.default)([(0,a.jsx)("circle",{cx:"4",cy:"14",r:"2"},"0"),(0,a.jsx)("path",{d:"M1.22 17.58C.48 17.9 0 18.62 0 19.43V21h4.5v-1.61c0-.83.23-1.61.63-2.29-.37-.06-.74-.1-1.13-.1-.99 0-1.93.21-2.78.58z"},"1"),(0,a.jsx)("circle",{cx:"20",cy:"14",r:"2"},"2"),(0,a.jsx)("path",{d:"M22.78 17.58c-.85-.37-1.79-.58-2.78-.58-.39 0-.76.04-1.13.1.4.68.63 1.46.63 2.29V21H24v-1.57c0-.81-.48-1.53-1.22-1.85zm-6.54-.93c-1.17-.52-2.61-.9-4.24-.9-1.63 0-3.07.39-4.24.9C6.68 17.13 6 18.21 6 19.39V21h12v-1.61c0-1.18-.68-2.26-1.76-2.74zM9 12c0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3-3 1.34-3 3z"},"3"),(0,a.jsx)("path",{d:"M2.48 10.86C2.17 10.1 2 9.36 2 8.6 2 6.02 4.02 4 6.6 4c2.68 0 3.82 1.74 5.4 3.59C13.57 5.76 14.7 4 17.4 4 19.98 4 22 6.02 22 8.6c0 .76-.17 1.5-.48 2.26.65.31 1.18.82 1.53 1.44.6-1.2.95-2.42.95-3.7C24 4.9 21.1 2 17.4 2c-2.09 0-4.09.97-5.4 2.51C10.69 2.97 8.69 2 6.6 2 2.9 2 0 4.9 0 8.6c0 1.28.35 2.5.96 3.7.35-.62.88-1.13 1.52-1.44z"},"4")],"Diversity1");t.Z=c},58106:function(e,t,n){var r=n(91941);t.Z=void 0;var o=r(n(45045)),a=n(46417),c=(0,o.default)([(0,a.jsx)("path",{d:"M13 8.57c-.79 0-1.43.64-1.43 1.43s.64 1.43 1.43 1.43 1.43-.64 1.43-1.43-.64-1.43-1.43-1.43z"},"0"),(0,a.jsx)("path",{d:"M13 3C9.25 3 6.2 5.94 6.02 9.64L4.1 12.2c-.25.33-.01.8.4.8H6v3c0 1.1.9 2 2 2h1v3h7v-4.68c2.36-1.12 4-3.53 4-6.32 0-3.87-3.13-7-7-7zm3 7c0 .13-.01.26-.02.39l.83.66c.08.06.1.16.05.25l-.8 1.39c-.05.09-.16.12-.24.09l-.99-.4c-.21.16-.43.29-.67.39L14 13.83c-.01.1-.1.17-.2.17h-1.6c-.1 0-.18-.07-.2-.17l-.15-1.06c-.25-.1-.47-.23-.68-.39l-.99.4c-.09.03-.2 0-.25-.09l-.8-1.39c-.05-.08-.03-.19.05-.25l.84-.66c-.01-.13-.02-.26-.02-.39s.02-.27.04-.39l-.85-.66c-.08-.06-.1-.16-.05-.26l.8-1.38c.05-.09.15-.12.24-.09l1 .4c.2-.15.43-.29.67-.39L12 6.17c.02-.1.1-.17.2-.17h1.6c.1 0 .18.07.2.17l.15 1.06c.24.1.46.23.67.39l1-.4c.09-.03.2 0 .24.09l.8 1.38c.05.09.03.2-.05.26l-.85.66c.03.12.04.25.04.39z"},"1")],"Psychology");t.Z=c},97615:function(e,t,n){var r=n(91941);t.Z=void 0;var o=r(n(45045)),a=n(46417),c=(0,o.default)([(0,a.jsx)("circle",{cx:"12",cy:"6",r:"2"},"0"),(0,a.jsx)("path",{d:"M21 16v-2c-2.24 0-4.16-.96-5.6-2.68l-1.34-1.6c-.38-.46-.94-.72-1.53-.72h-1.05c-.59 0-1.15.26-1.53.72l-1.34 1.6C7.16 13.04 5.24 14 3 14v2c2.77 0 5.19-1.17 7-3.25V15l-3.88 1.55c-.67.27-1.12.93-1.12 1.66C5 19.2 5.8 20 6.79 20H9v-.5c0-1.38 1.12-2.5 2.5-2.5h3c.28 0 .5.22.5.5s-.22.5-.5.5h-3c-.83 0-1.5.67-1.5 1.5v.5h7.21c.99 0 1.79-.8 1.79-1.79 0-.73-.45-1.39-1.12-1.66L14 15v-2.25c1.81 2.08 4.23 3.25 7 3.25z"},"1")],"SelfImprovement");t.Z=c},82753:function(e,t,n){var r=n(91941);t.Z=void 0;var o=r(n(45045)),a=n(46417),c=(0,o.default)((0,a.jsx)("path",{d:"M11 5.5H8V4h.5c.55 0 1-.45 1-1s-.45-1-1-1h-3c-.55 0-1 .45-1 1s.45 1 1 1H6v1.5H3c-.55 0-1 .45-1 1s.45 1 1 1V15c0 1.1.9 2 2 2h1v4l2 1.5V17h1c1.1 0 2-.9 2-2V7.5c.55 0 1-.45 1-1s-.45-1-1-1zM9 9H7.25c-.41 0-.75.34-.75.75s.34.75.75.75H9V12H7.25c-.41 0-.75.34-.75.75s.34.75.75.75H9V15H5V7.5h4V9zm10.5 1.5V10c.55 0 1-.45 1-1s-.45-1-1-1h-5c-.55 0-1 .45-1 1s.45 1 1 1v.5c0 .5-1.5 1.16-1.5 3V20c0 1.1.9 2 2 2h4c1.1 0 2-.9 2-2v-6.5c0-1.84-1.5-2.5-1.5-3zm-3 0V10h1v.5c0 1.6 1.5 2 1.5 3v.5h-4v-.5c0-1 1.5-1.4 1.5-3zM15 20v-1.5h4V20h-4z"}),"Vaccines");t.Z=c},99881:function(e,t,n){n.d(t,{Z:function(){return I}});var r=n(45987),o=n(4942),a=n(1413),c=n(47313),i=n(83061),s=n(21921),l=n(17551),u=n(17592),d=n(77342),h=n(91615),v=n(70501),p=n(77430),f=n(32298);function m(e){return(0,f.Z)("MuiAlert",e)}var Z=(0,p.Z)("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),x=n(47131),g=n(54750),j=n(46417),C=(0,g.Z)((0,j.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),y=(0,g.Z)((0,j.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),S=(0,g.Z)((0,j.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),M=(0,g.Z)((0,j.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),z=n(91251),w=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],A=(0,u.ZP)(v.Z,{name:"MuiAlert",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat((0,h.Z)(n.color||n.severity))]]}})((function(e){var t=e.theme,n=e.ownerState,r="light"===t.palette.mode?l._j:l.$n,c="light"===t.palette.mode?l.$n:l._j,i=n.color||n.severity;return(0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},t.typography.body2),{},{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},i&&"standard"===n.variant&&(0,o.Z)({color:t.vars?t.vars.palette.Alert["".concat(i,"Color")]:r(t.palette[i].light,.6),backgroundColor:t.vars?t.vars.palette.Alert["".concat(i,"StandardBg")]:c(t.palette[i].light,.9)},"& .".concat(Z.icon),t.vars?{color:t.vars.palette.Alert["".concat(i,"IconColor")]}:{color:t.palette[i].main})),i&&"outlined"===n.variant&&(0,o.Z)({color:t.vars?t.vars.palette.Alert["".concat(i,"Color")]:r(t.palette[i].light,.6),border:"1px solid ".concat((t.vars||t).palette[i].light)},"& .".concat(Z.icon),t.vars?{color:t.vars.palette.Alert["".concat(i,"IconColor")]}:{color:t.palette[i].main})),i&&"filled"===n.variant&&(0,a.Z)({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert["".concat(i,"FilledColor")],backgroundColor:t.vars.palette.Alert["".concat(i,"FilledBg")]}:{backgroundColor:"dark"===t.palette.mode?t.palette[i].dark:t.palette[i].main,color:t.palette.getContrastText(t.palette[i].main)}))})),b=(0,u.ZP)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:function(e,t){return t.icon}})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),P=(0,u.ZP)("div",{name:"MuiAlert",slot:"Message",overridesResolver:function(e,t){return t.message}})({padding:"8px 0",minWidth:0,overflow:"auto"}),V=(0,u.ZP)("div",{name:"MuiAlert",slot:"Action",overridesResolver:function(e,t){return t.action}})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),k={success:(0,j.jsx)(C,{fontSize:"inherit"}),warning:(0,j.jsx)(y,{fontSize:"inherit"}),error:(0,j.jsx)(S,{fontSize:"inherit"}),info:(0,j.jsx)(M,{fontSize:"inherit"})},I=c.forwardRef((function(e,t){var n,o,c,l,u,v,p=(0,d.Z)({props:e,name:"MuiAlert"}),f=p.action,Z=p.children,g=p.className,C=p.closeText,y=void 0===C?"Close":C,S=p.color,M=p.components,I=void 0===M?{}:M,L=p.componentsProps,H=void 0===L?{}:L,R=p.icon,_=p.iconMapping,N=void 0===_?k:_,B=p.onClose,O=p.role,T=void 0===O?"alert":O,W=p.severity,E=void 0===W?"success":W,F=p.slotProps,U=void 0===F?{}:F,Y=p.slots,$=void 0===Y?{}:Y,q=p.variant,D=void 0===q?"standard":q,G=(0,r.Z)(p,w),J=(0,a.Z)((0,a.Z)({},p),{},{color:S,severity:E,variant:D}),K=function(e){var t=e.variant,n=e.color,r=e.severity,o=e.classes,a={root:["root","".concat(t).concat((0,h.Z)(n||r)),"".concat(t)],icon:["icon"],message:["message"],action:["action"]};return(0,s.Z)(a,m,o)}(J),Q=null!=(n=null!=(o=$.closeButton)?o:I.CloseButton)?n:x.Z,X=null!=(c=null!=(l=$.closeIcon)?l:I.CloseIcon)?c:z.Z,ee=null!=(u=U.closeButton)?u:H.closeButton,te=null!=(v=U.closeIcon)?v:H.closeIcon;return(0,j.jsxs)(A,(0,a.Z)((0,a.Z)({role:T,elevation:0,ownerState:J,className:(0,i.Z)(K.root,g),ref:t},G),{},{children:[!1!==R?(0,j.jsx)(b,{ownerState:J,className:K.icon,children:R||N[E]||k[E]}):null,(0,j.jsx)(P,{ownerState:J,className:K.message,children:Z}),null!=f?(0,j.jsx)(V,{ownerState:J,className:K.action,children:f}):null,null==f&&B?(0,j.jsx)(V,{ownerState:J,className:K.action,children:(0,j.jsx)(Q,(0,a.Z)((0,a.Z)({size:"small","aria-label":y,title:y,color:"inherit",onClick:B},ee),{},{children:(0,j.jsx)(X,(0,a.Z)({fontSize:"small"},te))}))}):null]}))}))}}]);