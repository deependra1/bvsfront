(self.webpackChunkmantis_free_react_admin_template=self.webpackChunkmantis_free_react_admin_template||[]).push([[927],{88983:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});var s=t(63866),n=t(46417);function a(e){var r=e.children;e.type;return(0,n.jsx)(s.E.div,{whileHover:{scale:1},whileTap:{scale:.9},children:r})}a.defaultProps={type:"scale"}},75506:function(e,r,t){"use strict";t.d(r,{_:function(){return l}});var s=t(74165),n=t(15861),a=t(56573),o=t(65470),i=t.n(o),u=t(77287),c=a.Z.create({baseURL:"https://bvsnepal.org/api",headers:{"Content-Type":"application/json"}});c.interceptors.request.use(function(){var e=(0,n.Z)((0,s.Z)().mark((function e(r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.headers.Authorization="Bearer ".concat((0,u.hP)()),e.abrupt("return",r);case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()),c.interceptors.response.use((function(e){return Promise.resolve(e)}),(function(e){return Promise.reject(e)}));var d=function(){var e=(0,n.Z)((0,s.Z)().mark((function e(r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.Z.post("/auth/refresh/",{refresh:(0,u.YV)()},{baseURL:"https://bvsnepal.org/api"}).then((function(e){var t=e.data.access;r.response.config.headers.Authorization="Bearer "+t,localStorage.setItem("auth",JSON.stringify({access:t,refresh:(0,u.YV)(),user:(0,u.PR)()}))})).catch((function(){localStorage.removeItem("auth")})));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();function l(e){return c.get(e).then((function(e){return e.data}))}i()(c,d),r.Z=c},44927:function(e,r,t){"use strict";t.r(r);var s=t(74165),n=t(15861),a=t(29439),o=t(47313),i=t(9019),u=t(42832),c=t(23306),d=t(49914),l=t(41727),p=t(47131),h=t(15480),f=t(69099),w=t(3463),v=t(7410),g=t(88983),m=t(90842),x=t(31741),Z=t(44874),_=t(77287),j=t(64611),y=t(75506),b=t(46417);r.default=function(){var e=o.useState(!1),r=(0,a.Z)(e,2),t=r[0],C=r[1],I=(0,_._y)(),R=(0,_.PR)(),q=(0,m.Ds)().enqueueSnackbar,P=function(){C(!t)},k=function(e){e.preventDefault()};return console.log(R),(0,b.jsx)(j.Z,{title:"Change Password",children:(0,b.jsx)(v.J9,{initialValues:{old_password:"",new_password:"",retype_password:"",submit:null},validationSchema:w.Ry().shape({old_password:w.Z_().max(255).required("Password is required"),new_password:w.Z_().max(255).required("Password is required"),retype_password:w.Z_().max(255).label("confirm password").required().oneOf([w.iH("new_password"),null],"Passwords must match")}),onSubmit:function(){var e=(0,n.Z)((0,s.Z)().mark((function e(r,t){var n,a,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.setErrors,a=t.setStatus,o=t.setSubmitting,y.Z.put("/auth/password-change/".concat(R.id,"/"),r).then((function(){q("Password changes successfully!!!",{variant:"success"}),a({success:!1}),o(!1),I.logout()})).catch((function(e){q("Something went wrong while adding !!",{variant:"error"}),a({success:!1}),n({submit:e.message}),o(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}(),children:function(e){var r=e.errors,s=e.handleBlur,n=e.handleChange,a=e.handleSubmit,o=e.isSubmitting,w=e.touched,v=e.values;return(0,b.jsx)("form",{noValidate:!0,onSubmit:a,children:(0,b.jsxs)(i.ZP,{container:!0,spacing:3,children:[(0,b.jsx)(i.ZP,{item:!0,xs:12,children:(0,b.jsxs)(u.Z,{spacing:1,children:[(0,b.jsx)(c.Z,{htmlFor:"old_password",children:"Old Password"}),(0,b.jsx)(d.Z,{fullWidth:!0,error:Boolean(w.old_password&&r.old_password),id:"-old_password",type:t?"text":"password",value:v.old_password,name:"old_password",onBlur:s,onChange:n,endAdornment:(0,b.jsx)(l.Z,{position:"end",children:(0,b.jsx)(p.Z,{"aria-label":"toggle password visibility",onClick:P,onMouseDown:k,edge:"end",size:"large",children:t?(0,b.jsx)(x.Z,{}):(0,b.jsx)(Z.Z,{})})}),placeholder:"Enter old password"}),w.old_password&&r.old_password&&(0,b.jsx)(h.Z,{error:!0,id:"standard-weight-helper-text-old_password",children:r.old_password})]})}),(0,b.jsx)(i.ZP,{item:!0,xs:12,children:(0,b.jsxs)(u.Z,{spacing:1,children:[(0,b.jsx)(c.Z,{htmlFor:"new_password",children:"New Password"}),(0,b.jsx)(d.Z,{fullWidth:!0,error:Boolean(w.new_password&&r.new_password),id:"-new_password",type:t?"text":"password",value:v.new_password,name:"new_password",onBlur:s,onChange:n,endAdornment:(0,b.jsx)(l.Z,{position:"end",children:(0,b.jsx)(p.Z,{"aria-label":"toggle password visibility",onClick:P,onMouseDown:k,edge:"end",size:"large",children:t?(0,b.jsx)(x.Z,{}):(0,b.jsx)(Z.Z,{})})}),placeholder:"Enter new password"}),w.new_password&&r.new_password&&(0,b.jsx)(h.Z,{error:!0,id:"standard-weight-helper-text-new_password",children:r.new_password})]})}),(0,b.jsx)(i.ZP,{item:!0,xs:12,children:(0,b.jsxs)(u.Z,{spacing:1,children:[(0,b.jsx)(c.Z,{htmlFor:"retype_password",children:"Retype Password"}),(0,b.jsx)(d.Z,{fullWidth:!0,error:Boolean(w.retype_password&&r.retype_password),id:"-retype_password",type:t?"text":"password",value:v.retype_password,name:"retype_password",onBlur:s,onChange:n,endAdornment:(0,b.jsx)(l.Z,{position:"end",children:(0,b.jsx)(p.Z,{"aria-label":"toggle password visibility",onClick:P,onMouseDown:k,edge:"end",size:"large",children:t?(0,b.jsx)(x.Z,{}):(0,b.jsx)(Z.Z,{})})}),placeholder:"Retype password"}),w.retype_password&&r.retype_password&&(0,b.jsx)(h.Z,{error:!0,id:"standard-weight-helper-text-retype_password",children:r.retype_password})]})}),r.submit&&(0,b.jsx)(i.ZP,{item:!0,xs:12,children:(0,b.jsx)(h.Z,{error:!0,children:r.submit})}),(0,b.jsx)(i.ZP,{item:!0,xs:12,children:(0,b.jsx)(g.Z,{children:(0,b.jsx)(f.Z,{disableElevation:!0,disabled:o,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",children:"Change Password"})})})]})})}})})}},44874:function(e,r,t){"use strict";t.d(r,{Z:function(){return u}});var s=t(1413),n=t(47313),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},o=t(20262),i=function(e,r){return n.createElement(o.Z,(0,s.Z)((0,s.Z)({},e),{},{ref:r,icon:a}))};i.displayName="EyeInvisibleOutlined";var u=n.forwardRef(i)},31741:function(e,r,t){"use strict";t.d(r,{Z:function(){return u}});var s=t(1413),n=t(47313),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},o=t(20262),i=function(e,r){return n.createElement(o.Z,(0,s.Z)((0,s.Z)({},e),{},{ref:r,icon:a}))};i.displayName="EyeOutlined";var u=n.forwardRef(i)},65470:function(e,r,t){var s;e.exports=(s=t(44411),function(){"use strict";var e={593:function(e,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.resendFailedRequest=r.getRetryInstance=r.unsetCache=r.createRequestQueueInterceptor=r.createRefreshCall=r.shouldInterceptError=r.mergeOptions=r.defaultOptions=void 0;var s=t(300);r.defaultOptions={statusCodes:[401],pauseInstanceWhileRefreshing:!1},r.mergeOptions=function(e,r){return Object.assign(Object.assign(Object.assign({},e),{pauseInstanceWhileRefreshing:r.skipWhileRefreshing}),r)},r.shouldInterceptError=function(e,r,t,s){var n,a;return!!e&&!(null===(n=e.config)||void 0===n?void 0:n.skipAuthRefresh)&&!!(r.interceptNetworkError&&!e.response&&0===e.request.status||e.response&&((null==r?void 0:r.shouldRefresh)?r.shouldRefresh(e):null===(a=r.statusCodes)||void 0===a?void 0:a.includes(parseInt(e.response.status))))&&(e.response||(e.response={config:e.config}),!r.pauseInstanceWhileRefreshing||!s.skipInstances.includes(t))},r.createRefreshCall=function(e,r,t){return t.refreshCall||(t.refreshCall=r(e),"function"==typeof t.refreshCall.then)?t.refreshCall:(console.warn("axios-auth-refresh requires `refreshTokenCall` to return a promise."),Promise.reject())},r.createRequestQueueInterceptor=function(e,r,t){return void 0===r.requestQueueInterceptorId&&(r.requestQueueInterceptorId=e.interceptors.request.use((function(e){return r.refreshCall.catch((function(){throw new s.default.Cancel("Request call failed")})).then((function(){return t.onRetry?t.onRetry(e):e}))}))),r.requestQueueInterceptorId},r.unsetCache=function(e,r){e.interceptors.request.eject(r.requestQueueInterceptorId),r.requestQueueInterceptorId=void 0,r.refreshCall=void 0,r.skipInstances=r.skipInstances.filter((function(r){return r!==e}))},r.getRetryInstance=function(e,r){return r.retryInstance||e},r.resendFailedRequest=function(e,r){return e.config.skipAuthRefresh=!0,r(e.response.config)}},300:function(e){e.exports=s}},r={};function t(s){var n=r[s];if(void 0!==n)return n.exports;var a=r[s]={exports:{}};return e[s](a,a.exports,t),a.exports}var n={};return function(){var e=n;Object.defineProperty(e,"__esModule",{value:!0});var r=t(593);e.default=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("function"!=typeof t)throw new Error("axios-auth-refresh requires `refreshAuthCall` to be a function that returns a promise.");var n={skipInstances:[],refreshCall:void 0,requestQueueInterceptorId:void 0};return e.interceptors.response.use((function(e){return e}),(function(a){if(s=(0,r.mergeOptions)(r.defaultOptions,s),!(0,r.shouldInterceptError)(a,s,e,n))return Promise.reject(a);s.pauseInstanceWhileRefreshing&&n.skipInstances.push(e);var o=(0,r.createRefreshCall)(a,t,n);return(0,r.createRequestQueueInterceptor)(e,n,s),o.catch((function(e){return Promise.reject(e)})).then((function(){return(0,r.resendFailedRequest)(a,(0,r.getRetryInstance)(e,s))})).finally((function(){return(0,r.unsetCache)(e,n)}))}))}}(),n}())},44411:function(e,r,t){"use strict";e.exports=t.p+"static/media/axios.e7d77f0967a69d31d7fc.cjs"}}]);