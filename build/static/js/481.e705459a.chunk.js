"use strict";(self.webpackChunkmantis_free_react_admin_template=self.webpackChunkmantis_free_react_admin_template||[]).push([[481],{75506:function(e,n,t){t.d(n,{_:function(){return d}});var r=t(74165),i=t(15861),o=t(56573),a=t(65470),c=t.n(a),s=t(77287),u=o.Z.create({baseURL:"https://bvsnepal.org/api",headers:{"Content-Type":"application/json"}});u.interceptors.request.use(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.headers.Authorization="Bearer ".concat((0,s.hP)()),e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),u.interceptors.response.use((function(e){return Promise.resolve(e)}),(function(e){return Promise.reject(e)}));var l=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.Z.post("/auth/refresh/",{refresh:(0,s.YV)()},{baseURL:"https://bvsnepal.org/api"}).then((function(e){var t=e.data.access;n.response.config.headers.Authorization="Bearer "+t,localStorage.setItem("auth",JSON.stringify({access:t,refresh:(0,s.YV)(),user:(0,s.PR)()}))})).catch((function(){localStorage.removeItem("auth")})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();function d(e){return u.get(e).then((function(e){return e.data}))}c()(u,l),n.Z=u},95481:function(e,n,t){t.r(n),t.d(n,{default:function(){return V}});var r=t(9478),i=t(9019),o=t(61113),a=t(19536),c=t(66212),s=t(29439),u=t(1413),l=t(45987),d=t(47313),h=t(42832),p=t(23306),f=t(49914),Z=t(15480),x=t(69099),g=t(17592),m=t(94469),v=t(33604),j=t(96467),b=t(4117),_=t(47131),w=t(11198),C=t(65954),P=t(51997),S=t(6316),E=t(1010),y=t(75506),k=t(90842),z=t(7410),M=t(3463),R=t(46417),D=["children","onClose"],G=(0,g.ZP)(m.Z)((function(e){var n=e.theme;return{"& .MuiDialogContent-root":{padding:n.spacing(2)},"& .MuiDialogActions-root":{padding:n.spacing(1)}}}));function A(e){var n=e.children,t=e.onClose,r=(0,l.Z)(e,D);return(0,R.jsxs)(v.Z,(0,u.Z)((0,u.Z)({sx:{m:0,p:2}},r),{},{children:[n,t?(0,R.jsx)(_.Z,{"aria-label":"close",onClick:t,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}},children:(0,R.jsx)(w.Z,{})}):null]}))}function N(){var e=d.useState(!1),n=(0,s.Z)(e,2),t=n[0],r=n[1],a=(0,k.Ds)().enqueueSnackbar,c=d.useState({}),u=(0,s.Z)(c,2),l=u[0],g=u[1],m=(0,E.ZP)("/ethnic/",y._,{revalidateOnMount:!0}),v=m.data,w=m.error,D=m.isLoading,N=m.mutate,V=[{field:"ethnic_group",headerName:"Ethnic Group",width:200,editable:!0},{field:"actions",headerName:"Actions",type:"actions",width:100,renderCell:function(e){return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(_.Z,{onClick:function(){return L(e)},sx:{color:"#9c27b0"},children:(0,R.jsx)(C.Z,{})}),(0,R.jsx)(_.Z,{onClick:function(){return I(e.id)},sx:{color:"#f44336"},children:(0,R.jsx)(P.Z,{})})]})}}],B=function(){r(!1)},L=function(e){g(e.row),r(!0)},I=function(e){confirm("Are you sure to delete ethnic group?")&&y.Z.delete("/ethnic/".concat(e,"/")).then((function(){a("Ethnic Group Deleted successfully!!!",{variant:"success"}),N()})).catch((function(){a("something wents wrong!!!",{variant:"error"})}))};return D?(0,R.jsx)("div",{children:"Loading..."}):w?(0,R.jsx)("div",{children:"Error on Ethnic group"}):(0,R.jsxs)("div",{children:[(0,R.jsxs)(i.ZP,{container:!0,spacing:3,children:[(0,R.jsx)(i.ZP,{item:!0,xs:12,md:4,children:(0,R.jsx)(o.Z,{variant:"h3",gutterBottom:!0,children:"Ethnic Group Detail"})}),(0,R.jsx)(i.ZP,{item:!0,xs:12,md:6}),(0,R.jsx)(i.ZP,{item:!0,xs:12,md:2,children:(0,R.jsx)(x.Z,{variant:"outlined",onClick:function(){r(!0)},children:"Add Ethnic Group"})})]}),(0,R.jsx)(S._,{rows:v,columns:V,initialState:{pagination:{paginationModel:{pageSize:5}}},pageSizeOptions:[5],disableRowSelectionOnClick:!0}),(0,R.jsxs)(G,{onClose:B,"aria-labelledby":"customized-dialog-title",open:t,children:[(0,R.jsx)(A,{id:"customized-dialog-title",onClose:B,children:l.id?"Update Ethnic Group":"Add Ethnic Group"}),(0,R.jsx)(z.J9,{enableReinitialize:!0,initialValues:{ethnic_group:(null===l||void 0===l?void 0:l.ethnic_group)||""},validationSchema:M.Ry().shape({ethnic_group:M.Z_().required("Ethnic group is required")}),onSubmit:function(e,n){var t=n.setErrors,i=n.setStatus,o=n.setSubmitting;l.id?y.Z.put("/ethnic/".concat(l.id,"/"),e).then((function(){a("Patient updated successfully!!!",{variant:"success"}),i({success:!1}),o(!1),N(),g({})})).catch((function(e){a("Something went wrong while adding the occupation!!!",{variant:"error"}),i({success:!1}),t({submit:e.message}),o(!1)})):y.Z.post("/ethnic/",e).then((function(){a("Ethnic group added successfully!!!",{variant:"success"}),i({success:!1}),o(!1),N()})).catch((function(e){a("Something went wrong while adding the ethnic group!!!",{variant:"error"}),i({success:!1}),t({submit:e.message}),o(!1)})),r(!1)},children:function(e){var n=e.errors,t=e.handleChange,r=e.handleSubmit,o=e.isSubmitting,a=e.touched,c=e.values,s=e.handleBlur;return(0,R.jsxs)(z.l0,{noValidate:!0,children:[(0,R.jsx)(j.Z,{dividers:!0,children:(0,R.jsx)(i.ZP,{container:!0,spacing:3,children:(0,R.jsx)(i.ZP,{item:!0,xs:12,children:(0,R.jsxs)(h.Z,{spacing:1,children:[(0,R.jsx)(p.Z,{htmlFor:"ethnic",children:"Ethnic Group*"}),(0,R.jsx)(f.Z,{fullWidth:!0,id:"ethnic",type:"text",value:c.ethnic_group,name:"ethnic_group",onBlur:s,onChange:t,placeholder:"Enter ethnic name",error:Boolean(a.ethnic_group&&n.ethnic_group)}),a.ethnic_group&&n.ethnic_group&&(0,R.jsx)(Z.Z,{error:!0,id:"standard-weight-helper-text-ethnic_group",children:n.ethnic_group})]})})})}),(0,R.jsxs)(b.Z,{children:[(0,R.jsx)(x.Z,{autoFocus:!0,variant:"outlined",disableElevation:!0,disabled:o,onClick:r,color:"primary",children:l.id?"Update":"Save"}),(0,R.jsx)(x.Z,{autoFocus:!0,variant:"outlined",color:"error",onClick:B,children:"Cancel"})]})]})}})]})]})}var V=function(){return(0,R.jsx)(r.Z,{title:"Donor Information",children:(0,R.jsxs)(i.ZP,{container:!0,spacing:3,children:[(0,R.jsx)(i.ZP,{item:!0,xs:12,md:12,children:(0,R.jsx)(o.Z,{variant:"h1",align:"center",children:"BVS-NEPAL"})}),(0,R.jsx)(i.ZP,{item:!0,xs:12,md:12,children:(0,R.jsx)(o.Z,{variant:"h3",align:"center",children:"Ethnic Group Information"})}),(0,R.jsx)(i.ZP,{item:!0,xs:12,md:12,children:(0,R.jsx)(a.Z,{children:(0,R.jsx)(c.Z,{label:"ETHNIC GROUP",color:"primary"})})}),(0,R.jsx)(i.ZP,{item:!0,xs:12,md:12,children:(0,R.jsx)(N,{})})]})})}},11198:function(e,n,t){var r=t(91941);n.Z=void 0;var i=r(t(45045)),o=t(46417),a=(0,i.default)((0,o.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");n.Z=a},51997:function(e,n,t){var r=t(91941);n.Z=void 0;var i=r(t(45045)),o=t(46417),a=(0,i.default)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");n.Z=a},65954:function(e,n,t){var r=t(91941);n.Z=void 0;var i=r(t(45045)),o=t(46417),a=(0,i.default)((0,o.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");n.Z=a},33604:function(e,n,t){var r=t(1413),i=t(45987),o=t(47313),a=t(83061),c=t(21921),s=t(61113),u=t(17592),l=t(77342),d=t(93174),h=t(63909),p=t(46417),f=["className","id"],Z=(0,u.ZP)(s.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:function(e,n){return n.root}})({padding:"16px 24px",flex:"0 0 auto"}),x=o.forwardRef((function(e,n){var t=(0,l.Z)({props:e,name:"MuiDialogTitle"}),s=t.className,u=t.id,x=(0,i.Z)(t,f),g=t,m=function(e){var n=e.classes;return(0,c.Z)({root:["root"]},d.a,n)}(g),v=o.useContext(h.Z).titleId,j=void 0===v?u:v;return(0,p.jsx)(Z,(0,r.Z)({component:"h2",className:(0,a.Z)(m.root,s),ownerState:g,ref:n,variant:"h6",id:null!=u?u:j},x))}));n.Z=x}}]);