"use strict";(self.webpackChunkmantis_free_react_admin_template=self.webpackChunkmantis_free_react_admin_template||[]).push([[86],{75506:function(e,n,t){t.d(n,{_:function(){return d}});var r=t(74165),a=t(15861),i=t(56573),s=t(65470),o=t.n(s),u=t(77287),c=i.Z.create({baseURL:"https://bvsnepal.org/api",headers:{"Content-Type":"application/json"}});c.interceptors.request.use(function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.headers.Authorization="Bearer ".concat((0,u.hP)()),e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),c.interceptors.response.use((function(e){return Promise.resolve(e)}),(function(e){return Promise.reject(e)}));var l=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.Z.post("/auth/refresh/",{refresh:(0,u.YV)()},{baseURL:"https://bvsnepal.org/api"}).then((function(e){var t=e.data.access;n.response.config.headers.Authorization="Bearer "+t,localStorage.setItem("auth",JSON.stringify({access:t,refresh:(0,u.YV)(),user:(0,u.PR)()}))})).catch((function(){localStorage.removeItem("auth")})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();function d(e){return c.get(e).then((function(e){return e.data}))}o()(c,l),n.Z=c},6086:function(e,n,t){t.r(n),t.d(n,{default:function(){return N}});var r=t(64611),a=t(9019),i=t(29439),s=t(1413),o=t(45987),u=t(47313),c=t(61113),l=t(42832),d=t(23306),h=t(49914),f=t(15480),p=t(69099),Z=t(17592),v=t(94469),x=t(33604),m=t(96467),g=t(4117),b=t(47131),j=t(11198),_=t(65954),C=t(51997),w=t(35099),S=t(1010),P=t(75506),k=t(90842),y=t(7410),z=t(3463),B=t(46417),M=["children","onClose"],R=(0,Z.ZP)(v.Z)((function(e){var n=e.theme;return{"& .MuiDialogContent-root":{padding:n.spacing(2)},"& .MuiDialogActions-root":{padding:n.spacing(1)}}}));function D(e){var n=e.children,t=e.onClose,r=(0,o.Z)(e,M);return(0,B.jsxs)(x.Z,(0,s.Z)((0,s.Z)({sx:{m:0,p:2}},r),{},{children:[n,t?(0,B.jsx)(b.Z,{"aria-label":"close",onClick:t,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}},children:(0,B.jsx)(j.Z,{})}):null]}))}function A(){var e=u.useState(!1),n=(0,i.Z)(e,2),t=n[0],r=n[1],s=(0,k.Ds)().enqueueSnackbar,o=u.useState({}),Z=(0,i.Z)(o,2),v=Z[0],x=Z[1],j=(0,S.ZP)("/burn_cause/",P._,{revalidateOnMount:!0}),M=j.data,A=j.error,N=j.isLoading,V=j.mutate,E=[{field:"burn_cause",headerName:"Cause of Burn",width:200,editable:!0},{field:"actions",headerName:"Actions",type:"actions",width:100,renderCell:function(e){return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(b.Z,{onClick:function(){return U(e)},sx:{color:"#9c27b0"},children:(0,B.jsx)(_.Z,{})}),(0,B.jsx)(b.Z,{onClick:function(){return q(e.id)},sx:{color:"#f44336"},children:(0,B.jsx)(C.Z,{})})]})}}],L=function(){x({}),r(!1)},U=function(e){x(e.row),r(!0)},q=function(e){confirm("Are you sure to delete ?")&&P.Z.delete("/burn_cause/".concat(e,"/")).then((function(){s("Deleted successfully!!!",{variant:"success"}),V()})).catch((function(){s("Something wents wrong!!!",{variant:"error"})}))};return N?(0,B.jsx)("div",{children:"Loading..."}):A?(0,B.jsx)("div",{children:"Error on Ethnic group"}):(0,B.jsxs)("div",{children:[(0,B.jsxs)(a.ZP,{container:!0,spacing:3,children:[(0,B.jsx)(a.ZP,{item:!0,xs:12,md:4,children:(0,B.jsx)(c.Z,{variant:"h3",gutterBottom:!0,children:"Cause of Burn Detail"})}),(0,B.jsx)(a.ZP,{item:!0,xs:12,md:6}),(0,B.jsx)(a.ZP,{item:!0,xs:12,md:2,children:(0,B.jsx)(p.Z,{variant:"outlined",onClick:function(){r(!0)},children:"Add New"})})]}),(0,B.jsx)(w._,{rows:M,columns:E,initialState:{pagination:{paginationModel:{pageSize:5}}},pageSizeOptions:[5],disableRowSelectionOnClick:!0}),(0,B.jsxs)(R,{onClose:L,"aria-labelledby":"customized-dialog-title",open:t,children:[(0,B.jsx)(D,{id:"customized-dialog-title",onClose:L,children:v.id?"Update Cause of Burn":"Add Cause of Burn"}),(0,B.jsx)(y.J9,{enableReinitialize:!0,initialValues:{burn_cause:(null===v||void 0===v?void 0:v.burn_cause)||""},validationSchema:z.Ry().shape({burn_cause:z.Z_().required("Required")}),onSubmit:function(e,n){var t=n.setErrors,a=n.setStatus,i=n.setSubmitting;v.id?P.Z.put("/burn_cause/".concat(v.id,"/"),e).then((function(){s("Updated successfully!!!",{variant:"success"}),a({success:!1}),i(!1),V(),x({})})).catch((function(e){s("Something went wrong while adding the occupation!!!",{variant:"error"}),a({success:!1}),t({submit:e.message}),i(!1)})):P.Z.post("/burn_cause/",e).then((function(){s("Data added successfully!!!",{variant:"success"}),a({success:!1}),i(!1),V()})).catch((function(e){s("Something went wrong while adding data!!!",{variant:"error"}),a({success:!1}),t({submit:e.message}),i(!1)})),r(!1)},children:function(e){var n=e.errors,t=e.handleChange,r=e.handleSubmit,i=e.isSubmitting,s=e.touched,o=e.values,u=e.handleBlur;return(0,B.jsxs)(y.l0,{noValidate:!0,children:[(0,B.jsx)(m.Z,{dividers:!0,children:(0,B.jsx)(a.ZP,{container:!0,spacing:3,children:(0,B.jsx)(a.ZP,{item:!0,xs:12,children:(0,B.jsxs)(l.Z,{spacing:1,children:[(0,B.jsx)(d.Z,{htmlFor:"burn_cause",children:"Cause of Burn*"}),(0,B.jsx)(h.Z,{fullWidth:!0,id:"burn_cause",type:"text",value:o.burn_cause,name:"burn_cause",onBlur:u,onChange:t,placeholder:"Enter cause of burn",error:Boolean(s.burn_cause&&n.burn_cause)}),s.burn_cause&&n.burn_cause&&(0,B.jsx)(f.Z,{error:!0,id:"standard-weight-helper-text-burn_cause",children:n.burn_cause})]})})})}),(0,B.jsxs)(g.Z,{children:[(0,B.jsx)(p.Z,{autoFocus:!0,variant:"outlined",disableElevation:!0,disabled:i,onClick:r,color:"primary",children:v.id?"Update":"Save"}),(0,B.jsx)(p.Z,{autoFocus:!0,variant:"outlined",color:"error",onClick:L,children:"Cancel"})]})]})}})]})]})}var N=function(){return(0,B.jsx)(r.Z,{title:"Burn Cause",children:(0,B.jsx)(a.ZP,{container:!0,spacing:3,children:(0,B.jsx)(a.ZP,{item:!0,xs:12,md:12,children:(0,B.jsx)(A,{})})})})}},11198:function(e,n,t){var r=t(91941);n.Z=void 0;var a=r(t(45045)),i=t(46417),s=(0,a.default)((0,i.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");n.Z=s},51997:function(e,n,t){var r=t(91941);n.Z=void 0;var a=r(t(45045)),i=t(46417),s=(0,a.default)((0,i.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");n.Z=s},65954:function(e,n,t){var r=t(91941);n.Z=void 0;var a=r(t(45045)),i=t(46417),s=(0,a.default)((0,i.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");n.Z=s},33604:function(e,n,t){var r=t(1413),a=t(45987),i=t(47313),s=t(83061),o=t(21921),u=t(61113),c=t(17592),l=t(77342),d=t(93174),h=t(63909),f=t(46417),p=["className","id"],Z=(0,c.ZP)(u.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:function(e,n){return n.root}})({padding:"16px 24px",flex:"0 0 auto"}),v=i.forwardRef((function(e,n){var t=(0,l.Z)({props:e,name:"MuiDialogTitle"}),u=t.className,c=t.id,v=(0,a.Z)(t,p),x=t,m=function(e){var n=e.classes;return(0,o.Z)({root:["root"]},d.a,n)}(x),g=i.useContext(h.Z).titleId,b=void 0===g?c:g;return(0,f.jsx)(Z,(0,r.Z)({component:"h2",className:(0,s.Z)(m.root,u),ownerState:x,ref:n,variant:"h6",id:null!=c?c:b},v))}));n.Z=v}}]);