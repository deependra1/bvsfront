"use strict";(self.webpackChunkmantis_free_react_admin_template=self.webpackChunkmantis_free_react_admin_template||[]).push([[822],{48822:function(e,i,t){t.r(i),t.d(i,{default:function(){return z}});var s=t(64611),o=t(9019),r=t(61113),n=t(42832),a=t(58467),l=t(1010),d=t(75506),u=t(19536),h=t(66212),c=t(29439),m=t(1413),p=t(45987),_=t(47313),f=t(23306),x=t(24631),Z=t(15480),j=t(49914),w=t(16529),y=t(51405),v=t(69099),b=t(17592),g=t(94469),P=t(33604),S=t(96467),C=t(4117),B=t(47131),F=t(11198),N=t(65954),E=t(51997),k=t(35099),A=t(90842),D=t(7410),M=t(3463),O=t(46417),W=["children","onClose"],q=(0,b.ZP)(g.Z)((function(e){var i=e.theme;return{"& .MuiDialogContent-root":{padding:i.spacing(2)},"& .MuiDialogActions-root":{padding:i.spacing(1)}}}));function I(e){var i=e.children,t=e.onClose,s=(0,p.Z)(e,W);return(0,O.jsxs)(P.Z,(0,m.Z)((0,m.Z)({sx:{m:0,p:2}},s),{},{children:[i,t?(0,O.jsx)(B.Z,{"aria-label":"close",onClick:t,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}},children:(0,O.jsx)(F.Z,{})}):null]}))}function L(){var e=_.useState(!1),i=(0,c.Z)(e,2),t=i[0],s=i[1],u=(0,a.UO)().patientId,h=(0,A.Ds)().enqueueSnackbar,m=_.useState(u),p=(0,c.Z)(m,2),b=p[0],g=p[1],P=_.useState({}),F=(0,c.Z)(P,2),W=F[0],L=F[1],z=_.useState(""),R=(0,c.Z)(z,2),U=R[0],H=R[1];_.useEffect((function(){g(u)}),[u]);var V=(0,l.ZP)("/patient/".concat(b,"/physiotherapy/"),d._,{revalidateOnMount:!0}),T=V.data,Y=V.error,G=V.isLoading,J=V.mutate,K=(0,l.ZP)("/follow-up-summary/",d._,{revalidateOnMount:!0}),Q=K.data,X=K.error,$=K.isLoading,ee=[{field:"initial_status",headerName:"Inital Status",width:100,editable:!0},{field:"applied_methods",headerName:"Applied Methods",width:100,editable:!0},{field:"observation",headerName:"Observation",width:100,editable:!0},{field:"current_status",headerName:"Current Status",width:100,editable:!0},{field:"mode_of_followup",headerName:"Mode of Followup",width:100,editable:!0},{field:"followed_by",headerName:"Followed By",width:100,editable:!0},{field:"followup_summary",headerName:"Followup Summary",width:100,editable:!0,valueGetter:function(e){return"".concat(e.row.followup_summary.follow_up_summary||"")}},{field:"number_of_session",headerName:"Number of Session",width:100,editable:!0},{field:"actions",headerName:"Actions",type:"actions",width:100,renderCell:function(e){return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(B.Z,{onClick:function(){return te(e)},sx:{color:"#9c27b0"},children:(0,O.jsx)(N.Z,{})}),(0,O.jsx)(B.Z,{onClick:function(){return se(e.id)},sx:{color:"#f44336"},children:(0,O.jsx)(E.Z,{})})]})}}],ie=function(){L({}),H(""),s(!1)},te=function(e){L(e.row),H(e.row.followup_summary.id),s(!0)},se=function(e){confirm("Are you sure to delete physiotherapy data?")&&d.Z.delete("/patient/".concat(u,"/physiotherapy/").concat(e,"/")).then((function(){h("physiotherapy Deleted successfully!!!",{variant:"success"}),J()})).catch((function(){h("something wents wrong!!!",{variant:"error"})}))};return G||$?(0,O.jsx)("div",{children:"Loading..."}):Y||X?(0,O.jsx)("div",{children:"Error on physiotherapy data"}):(0,O.jsxs)("div",{children:[(0,O.jsxs)(o.ZP,{container:!0,spacing:3,children:[(0,O.jsx)(o.ZP,{item:!0,xs:12,md:4,children:(0,O.jsx)(r.Z,{variant:"h3",gutterBottom:!0,children:"Physiotherapy Detail"})}),(0,O.jsx)(o.ZP,{item:!0,xs:12,md:6}),(0,O.jsx)(o.ZP,{item:!0,xs:12,md:2,children:(0,O.jsx)(v.Z,{variant:"outlined",onClick:function(){s(!0)},children:"Add Physiotherapy"})})]}),(0,O.jsx)(k._,{rows:T,columns:ee,initialState:{pagination:{paginationModel:{pageSize:5}}},pageSizeOptions:[5],disableRowSelectionOnClick:!0}),(0,O.jsxs)(q,{onClose:ie,"aria-labelledby":"customized-dialog-title",open:t,children:[(0,O.jsx)(I,{id:"customized-dialog-title",onClose:ie,children:W.id?"Update Physiotherapy Data":"Add Physiotherapy Data"}),(0,O.jsx)(D.J9,{enableReinitialize:!0,initialValues:{patient:u,initial_status:(null===W||void 0===W?void 0:W.initial_status)||"",applied_methods:(null===W||void 0===W?void 0:W.applied_methods)||"",dischared_status:(null===W||void 0===W?void 0:W.dischared_status)||"",observation:(null===W||void 0===W?void 0:W.observation)||"",current_status:(null===W||void 0===W?void 0:W.current_status)||"",mode_of_followup:(null===W||void 0===W?void 0:W.mode_of_followup)||"",followed_by:(null===W||void 0===W?void 0:W.followed_by)||"",followup_summary:U||"",number_of_session:(null===W||void 0===W?void 0:W.number_of_session)||""},validationSchema:M.Ry().shape({initial_status:M.Z_().required("Client History is required"),followup_summary:M.Z_().required("Followup Summary is required"),number_of_session:M.Z_().required("Number of session is required")}),onSubmit:function(e,i){var t=i.setErrors,o=i.setStatus,r=i.setSubmitting;W.id?d.Z.put("/patient/".concat(u,"/physiotherapy/").concat(W.id,"/"),e).then((function(){h("physiotherapy updated successfully!!!",{variant:"success"}),o({success:!1}),r(!1),J(),L({}),H("")})).catch((function(e){h("Something went wrong while adding the physiotherapy!!!",{variant:"error"}),o({success:!1}),t({submit:e.message}),r(!1)})):d.Z.post("/patient/".concat(u,"/physiotherapy/"),e).then((function(){h("physiotherapy added successfully!!!",{variant:"success"}),o({success:!1}),r(!1),J()})).catch((function(e){h("Something went wrong while adding the physiotherapy!!!",{variant:"error"}),o({success:!1}),t({submit:e.message}),r(!1)})),s(!1)},children:function(e){var i=e.errors,t=e.handleChange,s=e.handleSubmit,r=e.isSubmitting,a=e.touched,l=e.values,d=e.handleBlur;return(0,O.jsxs)(D.l0,{noValidate:!0,children:[(0,O.jsx)(S.Z,{dividers:!0,children:(0,O.jsxs)(o.ZP,{container:!0,spacing:3,children:[(0,O.jsx)(o.ZP,{item:!0,xs:12,md:6,children:(0,O.jsxs)(n.Z,{spacing:1,children:[(0,O.jsx)(f.Z,{htmlFor:"initial_status",children:"Initial Status"}),(0,O.jsx)(x.Z,{fullWidth:!0,multiline:!0,rows:3,value:l.initial_status,name:"initial_status",onBlur:d,onChange:t,placeholder:"Enter initial_status name",error:Boolean(a.initial_status&&i.initial_status)}),a.initial_status&&i.initial_status&&(0,O.jsx)(Z.Z,{error:!0,id:"standard-weight-helper-text-initial_status",children:i.initial_status})]})}),(0,O.jsx)(o.ZP,{item:!0,xs:12,md:6,children:(0,O.jsxs)(n.Z,{spacing:1,children:[(0,O.jsx)(f.Z,{htmlFor:"applied_methods",children:"Applied Method"}),(0,O.jsx)(x.Z,{fullWidth:!0,multiline:!0,rows:3,value:l.applied_methods,name:"applied_methods",onBlur:d,onChange:t,placeholder:"Enter applied_methods name",error:Boolean(a.applied_methods&&i.applied_methods)}),a.applied_methods&&i.applied_methods&&(0,O.jsx)(Z.Z,{error:!0,id:"standard-weight-helper-text-applied_methods",children:i.applied_methods})]})}),(0,O.jsx)(o.ZP,{item:!0,xs:12,md:6,children:(0,O.jsxs)(n.Z,{spacing:1,children:[(0,O.jsx)(f.Z,{htmlFor:"dischared_status",children:"Dischared Status"}),(0,O.jsx)(x.Z,{fullWidth:!0,multiline:!0,rows:3,value:l.dischared_status,name:"dischared_status",onBlur:d,onChange:t,placeholder:"Enter dischared_status name",error:Boolean(a.dischared_status&&i.dischared_status)}),a.dischared_status&&i.dischared_status&&(0,O.jsx)(Z.Z,{error:!0,id:"standard-weight-helper-text-dischared_status",children:i.dischared_status})]})}),(0,O.jsx)(o.ZP,{item:!0,xs:12,md:6,children:(0,O.jsxs)(n.Z,{spacing:1,children:[(0,O.jsx)(f.Z,{htmlFor:"observation",children:" Observation"}),(0,O.jsx)(x.Z,{fullWidth:!0,multiline:!0,rows:3,value:l.observation,name:"observation",onBlur:d,onChange:t,placeholder:"Enter observation",error:Boolean(a.observation&&i.observation)}),a.observation&&i.observation&&(0,O.jsx)(Z.Z,{error:!0,id:"standard-weight-helper-text-observation",children:i.observation})]})}),(0,O.jsx)(o.ZP,{item:!0,xs:12,md:6,children:(0,O.jsxs)(n.Z,{spacing:1,children:[(0,O.jsx)(f.Z,{htmlFor:"current_status",children:"Current Status"}),(0,O.jsx)(x.Z,{fullWidth:!0,multiline:!0,rows:3,value:l.current_status,name:"current_status",onBlur:d,onChange:t,placeholder:"Enter current_status name",error:Boolean(a.current_status&&i.current_status)}),a.current_status&&i.current_status&&(0,O.jsx)(Z.Z,{error:!0,id:"standard-weight-helper-text-current_status",children:i.current_status})]})}),(0,O.jsx)(o.ZP,{item:!0,xs:12,md:6,children:(0,O.jsxs)(n.Z,{spacing:1,children:[(0,O.jsx)(f.Z,{htmlFor:"mode_of_followup",children:" Mode of Followup"}),(0,O.jsx)(x.Z,{fullWidth:!0,multiline:!0,rows:3,value:l.mode_of_followup,name:"mode_of_followup",onBlur:d,onChange:t,placeholder:"Enter mode_of_followup name",error:Boolean(a.mode_of_followup&&i.mode_of_followup)}),a.mode_of_followup&&i.mode_of_followup&&(0,O.jsx)(Z.Z,{error:!0,id:"standard-weight-helper-text-mode_of_followup",children:i.mode_of_followup})]})}),(0,O.jsx)(o.ZP,{item:!0,xs:12,md:6,children:(0,O.jsxs)(n.Z,{spacing:1,children:[(0,O.jsx)(f.Z,{htmlFor:"followed_by",children:"Followed By"}),(0,O.jsx)(j.Z,{fullWidth:!0,id:"followed_by",type:"text",value:l.followed_by,name:"followed_by",onBlur:d,onChange:t,placeholder:"Enter followed_by name",error:Boolean(a.followed_by&&i.followed_by)}),a.followed_by&&i.followed_by&&(0,O.jsx)(Z.Z,{error:!0,id:"standard-weight-helper-text-followed_by",children:i.followed_by})]})}),(0,O.jsx)(o.ZP,{item:!0,xs:12,md:6,children:(0,O.jsxs)(n.Z,{spacing:1,children:[(0,O.jsx)(f.Z,{htmlFor:"followup_summary",children:"Followup Summary"}),(0,O.jsx)(w.Z,{fullWidth:!0,labelId:"followup_summary",id:"followup_summary",value:l.followup_summary,name:"followup_summary",onChange:t,error:Boolean(a.followup_summary&&i.followup_summary),children:Q.map((function(e){return(0,O.jsx)(y.Z,{value:e.id,children:e.follow_up_summary},e.id)}))}),a.followup_summary&&i.followup_summary&&(0,O.jsx)(Z.Z,{error:!0,id:"standard-weight-helper-text-followup_summary",children:i.followup_summary})]})}),(0,O.jsx)(o.ZP,{item:!0,xs:12,md:6,children:(0,O.jsxs)(n.Z,{spacing:1,children:[(0,O.jsx)(f.Z,{htmlFor:"number_of_session",children:"Number of Session*"}),(0,O.jsx)(j.Z,{fullWidth:!0,id:"number_of_session",type:"number",value:l.number_of_session,name:"number_of_session",onBlur:d,onChange:t,placeholder:"Number of Session",error:Boolean(a.number_of_session&&i.number_of_session)}),a.number_of_session&&i.number_of_session&&(0,O.jsx)(Z.Z,{error:!0,id:"standard-weight-helper-text-number_of_session",children:i.number_of_session})]})})]})}),(0,O.jsxs)(C.Z,{children:[(0,O.jsx)(v.Z,{autoFocus:!0,variant:"outlined",disableElevation:!0,disabled:r,onClick:s,color:"primary",children:W.id?"Update":"Save"}),(0,O.jsx)(v.Z,{autoFocus:!0,variant:"outlined",color:"error",onClick:ie,children:"Cancel"})]})]})}})]})]})}var z=function(){var e=(0,a.UO)().patientId,i=(0,l.ZP)("/patient/".concat(e,"/"),d._),t=i.data,c=i.error;return i.isLoading?(0,O.jsx)("div",{children:"Loading..."}):c?(0,O.jsx)("div",{children:"Error on Treatment"}):(0,O.jsx)(s.Z,{title:"Patients Physiotherapy Detail",children:(0,O.jsxs)(o.ZP,{container:!0,spacing:3,children:[(0,O.jsx)(o.ZP,{item:!0,xs:12,md:12,children:(0,O.jsx)(r.Z,{variant:"h1",align:"center",children:"BVS-NEPAL"})}),(0,O.jsx)(o.ZP,{item:!0,xs:12,md:12,children:(0,O.jsx)(r.Z,{variant:"h3",align:"center",children:t.registration_location})}),(0,O.jsx)(o.ZP,{item:!0,xs:12,md:5,children:(0,O.jsxs)(n.Z,{direction:"row",spacing:2,children:[(0,O.jsx)(r.Z,{variant:"h5",color:"primary",children:"Patient Name:"}),(0,O.jsxs)(r.Z,{variant:"h6",children:[t.fname," ",t.mname," ",t.lname]})]})}),(0,O.jsx)(o.ZP,{item:!0,xs:12,md:3}),(0,O.jsx)(o.ZP,{item:!0,xs:12,md:4,children:(0,O.jsxs)(n.Z,{direction:"row",spacing:2,children:[(0,O.jsx)(r.Z,{variant:"h5",align:"right",color:"primary",children:"Registration No:"}),(0,O.jsx)(r.Z,{variant:"h6",align:"right",children:t.registration_number})]})}),(0,O.jsx)(o.ZP,{item:!0,xs:12,md:12,children:(0,O.jsx)(u.Z,{children:(0,O.jsx)(h.Z,{label:"PHYSIOTHERAPY",color:"primary"})})}),(0,O.jsx)(o.ZP,{item:!0,xs:12,md:12,children:(0,O.jsx)(L,{})})]})})}}}]);