"use strict";(self.webpackChunkmantis_free_react_admin_template=self.webpackChunkmantis_free_react_admin_template||[]).push([[306],{30306:function(n,e,i){i.r(e),i.d(e,{default:function(){return F}});var t=i(64611),c=i(9019),a=i(29439),o=i(1413),r=i(45987),s=i(47313),u=i(61113),l=i(42832),d=i(23306),h=i(49914),p=i(15480),m=i(69099),x=i(17592),Z=i(94469),g=i(33604),f=i(96467),j=i(4117),v=i(47131),_=i(11198),b=i(65954),C=i(51997),w=i(35099),S=i(1010),O=i(75506),k=i(90842),P=i(7410),y=i(3463),D=i(46417),z=["children","onClose"],A=(0,x.ZP)(Z.Z)((function(n){var e=n.theme;return{"& .MuiDialogContent-root":{padding:e.spacing(2)},"& .MuiDialogActions-root":{padding:e.spacing(1)}}}));function B(n){var e=n.children,i=n.onClose,t=(0,r.Z)(n,z);return(0,D.jsxs)(g.Z,(0,o.Z)((0,o.Z)({sx:{m:0,p:2}},t),{},{children:[e,i?(0,D.jsx)(v.Z,{"aria-label":"close",onClick:i,sx:{position:"absolute",right:8,top:8,color:function(n){return n.palette.grey[500]}},children:(0,D.jsx)(_.Z,{})}):null]}))}function E(){var n=s.useState(!1),e=(0,a.Z)(n,2),i=e[0],t=e[1],o=(0,k.Ds)().enqueueSnackbar,r=s.useState({}),x=(0,a.Z)(r,2),Z=x[0],g=x[1],_=(0,S.ZP)("/occupation/",O._,{revalidateOnMount:!0}),z=_.data,E=_.error,F=_.isLoading,M=_.mutate,q=[{field:"occupation_name",headerName:"Occupation Name",width:200,editable:!0},{field:"actions",headerName:"Actions",type:"actions",width:100,renderCell:function(n){return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(v.Z,{onClick:function(){return R(n)},sx:{color:"#9c27b0"},children:(0,D.jsx)(b.Z,{})}),(0,D.jsx)(v.Z,{onClick:function(){return L(n.id)},sx:{color:"#f44336"},children:(0,D.jsx)(C.Z,{})})]})}}],N=function(){g({}),t(!1)},R=function(n){g(n.row),t(!0)},L=function(n){confirm("Are you sure to delete occupation information?")&&O.Z.delete("/occupation/".concat(n,"/")).then((function(){o("Occupation Deleted successfully!!!",{variant:"success"}),M()})).catch((function(){o("something wents wrong!!!",{variant:"error"})}))};return F?(0,D.jsx)("div",{children:"Loading..."}):E?(0,D.jsx)("div",{children:"Error on Doner"}):(0,D.jsxs)("div",{children:[(0,D.jsxs)(c.ZP,{container:!0,spacing:3,children:[(0,D.jsx)(c.ZP,{item:!0,xs:12,md:4,children:(0,D.jsx)(u.Z,{variant:"h3",gutterBottom:!0,children:"Occupation Detail"})}),(0,D.jsx)(c.ZP,{item:!0,xs:12,md:6}),(0,D.jsx)(c.ZP,{item:!0,xs:12,md:2,children:(0,D.jsx)(m.Z,{variant:"outlined",onClick:function(){t(!0)},children:"Add Occupation"})})]}),(0,D.jsx)(w._,{rows:z,columns:q,initialState:{pagination:{paginationModel:{pageSize:5}}},pageSizeOptions:[5],disableRowSelectionOnClick:!0}),(0,D.jsxs)(A,{onClose:N,"aria-labelledby":"customized-dialog-title",open:i,children:[(0,D.jsx)(B,{id:"customized-dialog-title",onClose:N,children:Z.id?"Update Occupation Data":"Add Occupation Data"}),(0,D.jsx)(P.J9,{enableReinitialize:!0,initialValues:{occupation_name:(null===Z||void 0===Z?void 0:Z.occupation_name)||""},validationSchema:y.Ry().shape({occupation_name:y.Z_().required("Occupation name is required")}),onSubmit:function(n,e){var i=e.setErrors,c=e.setStatus,a=e.setSubmitting;Z.id?O.Z.put("/occupation/".concat(Z.id,"/"),n).then((function(){o("Patient updated successfully!!!",{variant:"success"}),c({success:!1}),a(!1),M(),g({})})).catch((function(n){o("Something went wrong while adding the occupation!!!",{variant:"error"}),c({success:!1}),i({submit:n.message}),a(!1)})):O.Z.post("/occupation/",n).then((function(){o("Occupation added successfully!!!",{variant:"success"}),c({success:!1}),a(!1),M()})).catch((function(n){o("Something went wrong while adding the occupation!!!",{variant:"error"}),c({success:!1}),i({submit:n.message}),a(!1)})),t(!1)},children:function(n){var e=n.errors,i=n.handleChange,t=n.handleSubmit,a=n.isSubmitting,o=n.touched,r=n.values,s=n.handleBlur;return(0,D.jsxs)(P.l0,{noValidate:!0,children:[(0,D.jsx)(f.Z,{dividers:!0,children:(0,D.jsx)(c.ZP,{container:!0,spacing:3,children:(0,D.jsx)(c.ZP,{item:!0,xs:12,children:(0,D.jsxs)(l.Z,{spacing:1,children:[(0,D.jsx)(d.Z,{htmlFor:"occupation",children:"Occupation*"}),(0,D.jsx)(h.Z,{fullWidth:!0,id:"occupation",type:"text",value:r.occupation_name,name:"occupation_name",onBlur:s,onChange:i,placeholder:"Enter occupation name",error:Boolean(o.occupation_name&&e.occupation_name)}),o.occupation_name&&e.occupation_name&&(0,D.jsx)(p.Z,{error:!0,id:"standard-weight-helper-text-occupation_name",children:e.occupation_name})]})})})}),(0,D.jsxs)(j.Z,{children:[(0,D.jsx)(m.Z,{autoFocus:!0,variant:"outlined",disableElevation:!0,disabled:a,onClick:t,color:"primary",children:Z.id?"Update":"Save"}),(0,D.jsx)(m.Z,{autoFocus:!0,variant:"outlined",color:"error",onClick:N,children:"Cancel"})]})]})}})]})]})}var F=function(){return(0,D.jsx)(t.Z,{title:"Occupations",children:(0,D.jsx)(c.ZP,{container:!0,spacing:3,children:(0,D.jsx)(c.ZP,{item:!0,xs:12,md:12,children:(0,D.jsx)(E,{})})})})}}}]);