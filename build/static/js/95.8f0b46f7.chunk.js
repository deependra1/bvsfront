"use strict";(self.webpackChunkmantis_free_react_admin_template=self.webpackChunkmantis_free_react_admin_template||[]).push([[95],{26095:function(e,n,i){i.r(n),i.d(n,{default:function(){return B}});var t=i(64611),s=i(9019),r=i(29439),o=i(1413),a=i(45987),c=i(47313),u=i(61113),l=i(42832),d=i(23306),h=i(49914),x=i(15480),m=i(69099),Z=i(17592),g=i(94469),j=i(33604),f=i(96467),p=i(4117),v=i(47131),q=i(11198),b=i(65954),C=i(51997),S=i(35099),w=i(1010),k=i(75506),P=i(90842),_=i(7410),y=i(3463),Q=i(46417),D=["children","onClose"],z=(0,Z.ZP)(g.Z)((function(e){var n=e.theme;return{"& .MuiDialogContent-root":{padding:n.spacing(2)},"& .MuiDialogActions-root":{padding:n.spacing(1)}}}));function A(e){var n=e.children,i=e.onClose,t=(0,a.Z)(e,D);return(0,Q.jsxs)(j.Z,(0,o.Z)((0,o.Z)({sx:{m:0,p:2}},t),{},{children:[n,i?(0,Q.jsx)(v.Z,{"aria-label":"close",onClick:i,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}},children:(0,Q.jsx)(q.Z,{})}):null]}))}function F(){var e=c.useState(!1),n=(0,r.Z)(e,2),i=n[0],t=n[1],o=(0,P.Ds)().enqueueSnackbar,a=c.useState({}),Z=(0,r.Z)(a,2),g=Z[0],j=Z[1],q=(0,w.ZP)("/question/",k._,{revalidateOnMount:!0}),D=q.data,F=q.error,B=q.isLoading,E=q.mutate,M=[{field:"questionnaire",headerName:"Question",width:200,editable:!0},{field:"actions",headerName:"Actions",type:"actions",width:100,renderCell:function(e){return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(v.Z,{onClick:function(){return O(e)},sx:{color:"#9c27b0"},children:(0,Q.jsx)(b.Z,{})}),(0,Q.jsx)(v.Z,{onClick:function(){return L(e.id)},sx:{color:"#f44336"},children:(0,Q.jsx)(C.Z,{})})]})}}],R=function(){j({}),t(!1)},O=function(e){j(e.row),t(!0)},L=function(e){confirm("Are you sure to delete question?")&&k.Z.delete("/question/".concat(e,"/")).then((function(){o("Question Deleted successfully!!!",{variant:"success"}),E()})).catch((function(){o("something wents wrong!!!",{variant:"error"})}))};return B?(0,Q.jsx)("div",{children:"Loading..."}):F?(0,Q.jsx)("div",{children:"Error on Doner"}):(0,Q.jsxs)("div",{children:[(0,Q.jsxs)(s.ZP,{container:!0,spacing:3,children:[(0,Q.jsx)(s.ZP,{item:!0,xs:12,md:4,children:(0,Q.jsx)(u.Z,{variant:"h3",gutterBottom:!0,children:"Question Detail"})}),(0,Q.jsx)(s.ZP,{item:!0,xs:12,md:6}),(0,Q.jsx)(s.ZP,{item:!0,xs:12,md:2,children:(0,Q.jsx)(m.Z,{variant:"outlined",onClick:function(){t(!0)},children:"Add Question"})})]}),(0,Q.jsx)(S._,{rows:D,columns:M,initialState:{pagination:{paginationModel:{pageSize:5}}},pageSizeOptions:[5],disableRowSelectionOnClick:!0}),(0,Q.jsxs)(z,{onClose:R,"aria-labelledby":"customized-dialog-title",open:i,children:[(0,Q.jsx)(A,{id:"customized-dialog-title",onClose:R,children:g.id?"Update Question":"Add Question"}),(0,Q.jsx)(_.J9,{enableReinitialize:!0,initialValues:{questionnaire:(null===g||void 0===g?void 0:g.questionnaire)||""},validationSchema:y.Ry().shape({questionnaire:y.Z_().required("question name is required")}),onSubmit:function(e,n){var i=n.setErrors,s=n.setStatus,r=n.setSubmitting;g.id?k.Z.put("/question/".concat(g.id,"/"),e).then((function(){o("Patient updated successfully!!!",{variant:"success"}),s({success:!1}),r(!1),E(),j({})})).catch((function(e){o("Something went wrong while adding the question!!!",{variant:"error"}),s({success:!1}),i({submit:e.message}),r(!1)})):k.Z.post("/question/",e).then((function(){o("question added successfully!!!",{variant:"success"}),s({success:!1}),r(!1),E()})).catch((function(e){o("Something went wrong !!",{variant:"error"}),s({success:!1}),i({submit:e.message}),r(!1)})),t(!1)},children:function(e){var n=e.errors,i=e.handleChange,t=e.handleSubmit,r=e.isSubmitting,o=e.touched,a=e.values,c=e.handleBlur;return(0,Q.jsxs)(_.l0,{noValidate:!0,children:[(0,Q.jsx)(f.Z,{dividers:!0,children:(0,Q.jsx)(s.ZP,{container:!0,spacing:3,children:(0,Q.jsx)(s.ZP,{item:!0,xs:12,children:(0,Q.jsxs)(l.Z,{spacing:1,children:[(0,Q.jsx)(d.Z,{htmlFor:"questionnaire",children:"Question*"}),(0,Q.jsx)(h.Z,{fullWidth:!0,id:"questionnaire",type:"text",value:a.questionnaire,name:"questionnaire",onBlur:c,onChange:i,placeholder:"Enter question name",error:Boolean(o.questionnaire&&n.questionnaire)}),o.questionnaire&&n.questionnaire&&(0,Q.jsx)(x.Z,{error:!0,id:"standard-weight-helper-text-questionnaire",children:n.questionnaire})]})})})}),(0,Q.jsxs)(p.Z,{children:[(0,Q.jsx)(m.Z,{autoFocus:!0,variant:"outlined",disableElevation:!0,disabled:r,onClick:t,color:"primary",children:g.id?"Update":"Save"}),(0,Q.jsx)(m.Z,{autoFocus:!0,variant:"outlined",color:"error",onClick:R,children:"Cancel"})]})]})}})]})]})}var B=function(){return(0,Q.jsx)(t.Z,{title:"Questions For Reintegration",children:(0,Q.jsx)(s.ZP,{container:!0,spacing:3,children:(0,Q.jsx)(s.ZP,{item:!0,xs:12,md:12,children:(0,Q.jsx)(F,{})})})})}}}]);