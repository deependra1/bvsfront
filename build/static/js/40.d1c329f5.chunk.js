"use strict";(self.webpackChunkmantis_free_react_admin_template=self.webpackChunkmantis_free_react_admin_template||[]).push([[40],{75506:function(e,n,i){i.d(n,{_:function(){return d}});var r=i(74165),t=i(15861),o=i(56573),a=i(65470),s=i.n(a),l=i(77287),c=o.Z.create({baseURL:"https://bvsnepal.org/api",headers:{"Content-Type":"application/json"}});c.interceptors.request.use(function(){var e=(0,t.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.headers.Authorization="Bearer ".concat((0,l.hP)()),e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),c.interceptors.response.use((function(e){return Promise.resolve(e)}),(function(e){return Promise.reject(e)}));var u=function(){var e=(0,t.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.Z.post("/auth/refresh/",{refresh:(0,l.YV)()},{baseURL:"https://bvsnepal.org/api"}).then((function(e){var i=e.data.access;n.response.config.headers.Authorization="Bearer "+i,localStorage.setItem("auth",JSON.stringify({access:i,refresh:(0,l.YV)(),user:(0,l.PR)()}))})).catch((function(){localStorage.removeItem("auth")})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();function d(e){return c.get(e).then((function(e){return e.data}))}s()(c,u),n.Z=c},89040:function(e,n,i){i.r(n),i.d(n,{default:function(){return B}});var r=i(64611),t=i(9019),o=i(29439),a=i(1413),s=i(45987),l=i(47313),c=i(61113),u=i(42832),d=i(23306),h=i(49914),g=i(15480),f=i(69099),p=i(17592),Z=i(94469),v=i(33604),x=i(96467),m=i(4117),j=i(47131),b=i(11198),w=i(65954),C=i(51997),R=i(35099),S=i(1010),P=i(75506),k=i(90842),y=i(7410),z=i(3463),_=i(46417),M=["children","onClose"],D=(0,p.ZP)(Z.Z)((function(e){var n=e.theme;return{"& .MuiDialogContent-root":{padding:n.spacing(2)},"& .MuiDialogActions-root":{padding:n.spacing(1)}}}));function A(e){var n=e.children,i=e.onClose,r=(0,s.Z)(e,M);return(0,_.jsxs)(v.Z,(0,a.Z)((0,a.Z)({sx:{m:0,p:2}},r),{},{children:[n,i?(0,_.jsx)(j.Z,{"aria-label":"close",onClick:i,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}},children:(0,_.jsx)(b.Z,{})}):null]}))}function V(){var e=l.useState(!1),n=(0,o.Z)(e,2),i=n[0],r=n[1],a=(0,k.Ds)().enqueueSnackbar,s=l.useState({}),p=(0,o.Z)(s,2),Z=p[0],v=p[1],b=(0,S.ZP)("/religion/",P._,{revalidateOnMount:!0}),M=b.data,V=b.error,B=b.isLoading,E=b.mutate,L=[{field:"religion",headerName:"Religion",width:200,editable:!0},{field:"actions",headerName:"Actions",type:"actions",width:100,renderCell:function(e){return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(j.Z,{onClick:function(){return q(e)},sx:{color:"#9c27b0"},children:(0,_.jsx)(w.Z,{})}),(0,_.jsx)(j.Z,{onClick:function(){return F(e.id)},sx:{color:"#f44336"},children:(0,_.jsx)(C.Z,{})})]})}}],N=function(){v({}),r(!1)},q=function(e){v(e.row),r(!0)},F=function(e){confirm("Are you sure to delete religion?")&&P.Z.delete("/religion/".concat(e,"/")).then((function(){a("Religion Deleted successfully!!!",{variant:"success"}),E()})).catch((function(){a("something wents wrong!!!",{variant:"error"})}))};return B?(0,_.jsx)("div",{children:"Loading..."}):V?(0,_.jsx)("div",{children:"Error on Ethnic group"}):(0,_.jsxs)("div",{children:[(0,_.jsxs)(t.ZP,{container:!0,spacing:3,children:[(0,_.jsx)(t.ZP,{item:!0,xs:12,md:4,children:(0,_.jsx)(c.Z,{variant:"h3",gutterBottom:!0,children:"Religion Detail"})}),(0,_.jsx)(t.ZP,{item:!0,xs:12,md:6}),(0,_.jsx)(t.ZP,{item:!0,xs:12,md:2,children:(0,_.jsx)(f.Z,{variant:"outlined",onClick:function(){r(!0)},children:"Add Religion"})})]}),(0,_.jsx)(R._,{rows:M,columns:L,initialState:{pagination:{paginationModel:{pageSize:5}}},pageSizeOptions:[5],disableRowSelectionOnClick:!0}),(0,_.jsxs)(D,{onClose:N,"aria-labelledby":"customized-dialog-title",open:i,children:[(0,_.jsx)(A,{id:"customized-dialog-title",onClose:N,children:Z.id?"Update Religion Group":"Add Religion Group"}),(0,_.jsx)(y.J9,{enableReinitialize:!0,initialValues:{religion:(null===Z||void 0===Z?void 0:Z.religion)||""},validationSchema:z.Ry().shape({religion:z.Z_().required("Religion is required")}),onSubmit:function(e,n){var i=n.setErrors,t=n.setStatus,o=n.setSubmitting;Z.id?P.Z.put("/religion/".concat(Z.id,"/"),e).then((function(){a("Religion updated successfully!!!",{variant:"success"}),t({success:!1}),o(!1),E(),v({})})).catch((function(e){a("Something went wrong while adding the religion!!!",{variant:"error"}),t({success:!1}),i({submit:e.message}),o(!1)})):P.Z.post("/religion/",e).then((function(){a("Religion added successfully!!!",{variant:"success"}),t({success:!1}),o(!1),E()})).catch((function(e){a("Something went wrong while adding the religion!!!",{variant:"error"}),t({success:!1}),i({submit:e.message}),o(!1)})),r(!1)},children:function(e){var n=e.errors,i=e.handleChange,r=e.handleSubmit,o=e.isSubmitting,a=e.touched,s=e.values,l=e.handleBlur;return(0,_.jsxs)(y.l0,{noValidate:!0,children:[(0,_.jsx)(x.Z,{dividers:!0,children:(0,_.jsx)(t.ZP,{container:!0,spacing:3,children:(0,_.jsx)(t.ZP,{item:!0,xs:12,children:(0,_.jsxs)(u.Z,{spacing:1,children:[(0,_.jsx)(d.Z,{htmlFor:"religion",children:"Religion*"}),(0,_.jsx)(h.Z,{fullWidth:!0,id:"religion",type:"text",value:s.religion,name:"religion",onBlur:l,onChange:i,placeholder:"Enter religion name",error:Boolean(a.religion&&n.religion)}),a.religion&&n.religion&&(0,_.jsx)(g.Z,{error:!0,id:"standard-weight-helper-text-religion",children:n.religion})]})})})}),(0,_.jsxs)(m.Z,{children:[(0,_.jsx)(f.Z,{autoFocus:!0,variant:"outlined",disableElevation:!0,disabled:o,onClick:r,color:"primary",children:Z.id?"Update":"Save"}),(0,_.jsx)(f.Z,{autoFocus:!0,variant:"outlined",color:"error",onClick:N,children:"Cancel"})]})]})}})]})]})}var B=function(){return(0,_.jsx)(r.Z,{title:"Religions",children:(0,_.jsx)(t.ZP,{container:!0,spacing:3,children:(0,_.jsx)(t.ZP,{item:!0,xs:12,md:12,children:(0,_.jsx)(V,{})})})})}},11198:function(e,n,i){var r=i(91941);n.Z=void 0;var t=r(i(45045)),o=i(46417),a=(0,t.default)((0,o.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");n.Z=a},51997:function(e,n,i){var r=i(91941);n.Z=void 0;var t=r(i(45045)),o=i(46417),a=(0,t.default)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");n.Z=a},65954:function(e,n,i){var r=i(91941);n.Z=void 0;var t=r(i(45045)),o=i(46417),a=(0,t.default)((0,o.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");n.Z=a},33604:function(e,n,i){var r=i(1413),t=i(45987),o=i(47313),a=i(83061),s=i(21921),l=i(61113),c=i(17592),u=i(77342),d=i(93174),h=i(63909),g=i(46417),f=["className","id"],p=(0,c.ZP)(l.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:function(e,n){return n.root}})({padding:"16px 24px",flex:"0 0 auto"}),Z=o.forwardRef((function(e,n){var i=(0,u.Z)({props:e,name:"MuiDialogTitle"}),l=i.className,c=i.id,Z=(0,t.Z)(i,f),v=i,x=function(e){var n=e.classes;return(0,s.Z)({root:["root"]},d.a,n)}(v),m=o.useContext(h.Z).titleId,j=void 0===m?c:m;return(0,g.jsx)(p,(0,r.Z)({component:"h2",className:(0,a.Z)(x.root,l),ownerState:v,ref:n,variant:"h6",id:null!=c?c:j},Z))}));n.Z=Z}}]);