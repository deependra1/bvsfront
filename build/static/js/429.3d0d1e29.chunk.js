"use strict";(self.webpackChunkmantis_free_react_admin_template=self.webpackChunkmantis_free_react_admin_template||[]).push([[429],{75506:function(e,t,a){a.d(t,{_:function(){return h}});var n=a(74165),r=a(15861),i=a(56573),o=a(65470),d=a.n(o),c=a(77287),l=i.Z.create({baseURL:"https://bvsnepal.org/api",headers:{"Content-Type":"application/json"}});l.interceptors.request.use(function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.headers.Authorization="Bearer ".concat((0,c.hP)()),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),l.interceptors.response.use((function(e){return Promise.resolve(e)}),(function(e){return Promise.reject(e)}));var u=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.Z.post("/auth/refresh/",{refresh:(0,c.YV)()},{baseURL:"https://bvsnepal.org/api"}).then((function(e){var a=e.data.access;t.response.config.headers.Authorization="Bearer "+a,localStorage.setItem("auth",JSON.stringify({access:a,refresh:(0,c.YV)(),user:(0,c.PR)()}))})).catch((function(){localStorage.removeItem("auth")})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function h(e){return l.get(e).then((function(e){return e.data}))}d()(l,u),t.Z=l},49429:function(e,t,a){a.r(t),a.d(t,{default:function(){return N}});var n=a(64611),r=a(74165),i=a(15861),o=a(29439),d=a(47313),c=a(99881),l=a(85281),u=a(9019),h=a(24631),s=a(69099),f=a(35099),p=a(85833),m=a(75506),w=a(46417),_=function(){var e=(0,d.useState)(""),t=(0,o.Z)(e,2),a=t[0],n=t[1],_=(0,d.useState)([]),N=(0,o.Z)(_,2),g=N[0],v=N[1],b=(0,d.useState)(!1),y=(0,o.Z)(b,2),Z=y[0],S=y[1],x=(0,d.useState)(!1),P=(0,o.Z)(x,2),C=P[0],j=P[1],G=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.prev=1,e.next=4,m.Z.get("/patient/post_treatment_patients/?search=".concat(a));case 4:t=e.sent,v(t.data),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),j(!0),console.log("Something went wrong!!!",e.t0);case 12:S(!1);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return C?(0,w.jsx)("div",{children:(0,w.jsx)(c.Z,{severity:"error",children:"Something went wrong!!! \u2014 Please contact your service provider!"})}):Z?(0,w.jsx)("div",{children:(0,w.jsx)(l.Z,{color:"success"})}):(0,w.jsx)("div",{children:(0,w.jsxs)(u.ZP,{container:!0,spacing:3,children:[(0,w.jsxs)(u.ZP,{item:!0,xs:12,children:[(0,w.jsx)(h.Z,{variant:"outlined",placeholder:"Search...",value:a,onChange:function(e){n(e.target.value)}}),(0,w.jsx)(s.Z,{variant:"outlined",onClick:G,sx:{padding:1,marginLeft:1},children:"Search"})]}),(0,w.jsx)(u.ZP,{item:!0,xs:12,children:(0,w.jsx)(f._,{rows:g,columns:[{field:"registration_number",headerName:"Registration Number",width:150,editable:!0},{field:"fiscal_year",headerName:"Fiscal Year",width:100,editable:!0},{field:"registration_date",headerName:"Registration Date",width:150,editable:!0},{field:"registration_location",headerName:"Branch Office",width:150,editable:!0},{field:"fullName",headerName:"Full name",width:200,valueGetter:function(e){return"".concat(e.row.fname||""," ").concat(e.row.mname||""," ").concat(e.row.lname||"")}},{field:"date_of_birth",headerName:"DOB",width:100},{field:"age",headerName:"Age(Y-M)",width:75,valueGetter:function(e){return"".concat(e.row.age_at_incident||""," - ").concat(e.row.month_at_incident||""," ")}},{field:"gender",headerName:"Gender",width:100},{field:"citizenship_no",headerName:"Citizenship No",width:100},{field:"patient_contact",headerName:"Contact",width:100},{field:"optional_contact",headerName:"Opt. Contact",width:100},{field:"patient_education",headerName:"Education",width:100},{field:"patient_language",headerName:"Language",width:100},{field:"patient_occupation",headerName:"Occupation",width:100,valueGetter:function(e){return"".concat(e.row.patient_occupation.occupation_name||"")}},{field:"ethnic_group",headerName:"Ethnicity",width:100,valueGetter:function(e){return"".concat(e.row.ethnic_group.ethnic_group||"")}},{field:"religion",headerName:"Religion",width:100,valueGetter:function(e){return"".concat(e.row.religion.religion||"")}},{field:"material_status",headerName:"Material",width:100},{field:"permanentAddress",headerName:"P Address",width:250,valueGetter:function(e){return"Nepal"===e.row.country?"".concat(e.row.tole||""," ",","," ").concat(e.row.local||""," ","-"," ").concat(e.row.ward||""," ",","," ").concat(e.row.district||""," ",","," ").concat(e.row.provence||""):"Foreign"===e.row.country?"".concat(e.row.foreign_address||""," "):void 0}},{field:"tempAddress",headerName:"Incident At",width:250,valueGetter:function(e){return"Nepal"===e.row.country2?"".concat(e.row.tole2||""," ",","," ").concat(e.row.local2||""," ","-"," ").concat(e.row.ward2||""," ",","," ").concat(e.row.district2||""," ",","," ").concat(e.row.provence2||""):"Foreign"===e.row.country2?"".concat(e.row.foreign_address2||""," "):void 0}},{field:"parents_contact",headerName:"Parents Contact",width:100},{field:"suppose_occupation",headerName:"Suppose Occupation",width:100,valueGetter:function(e){return"".concat(e.row.suppose_occupation.occupation_name||"")}},{field:"parents_occupation",headerName:"Parents Occupation",width:100,valueGetter:function(e){return"".concat(e.row.parents_occupation.occupation_name||"")}},{field:"family_type",headerName:"Family Type",width:100,valueGetter:function(e){return"".concat(e.row.family_type.family_type||"")}},{field:"number_of_child",headerName:"Number of Child",width:100},{field:"number_of_siblings",headerName:"Number of Siblings",width:100},{field:"economic_status",headerName:"Economic Status",width:100},{field:"family_support",headerName:"Family Support",width:100},{field:"pregnant_women",headerName:"Pregnant Women",width:100},{field:"lactating_mother",headerName:"Lactating Mother",width:100},{field:"with_disabilities",headerName:"With Disabilities",width:100},{field:"mental_illness",headerName:"Mental Illness",width:100},{field:"epilepsy",headerName:"Epilepsy",width:100},{field:"hiv_positive",headerName:"HIV",width:100},{field:"echo_other",headerName:"Other",width:100},{field:"date_of_incident",headerName:"Date of Incident",width:100},{field:"area_of_burn",headerName:"Area of Burn",width:100},{field:"percentage_of_burn",headerName:"Percentage Of Burn",width:100},{field:"degree_of_burn",headerName:"Degree Of Burn",width:100},{field:"burn_cause",headerName:"Burn Cause",width:100,valueGetter:function(e){return"".concat(e.row.burn_cause.burn_cause||"")}},{field:"burn_type",headerName:"Burn Type",width:100,valueGetter:function(e){return"".concat(e.row.burn_type.burn_type||"")}},{field:"place_of_incident",headerName:"Place of Incident",width:100},{field:"description_of_incident",headerName:"Description of Incident",width:100},{field:"person_at_hospital",headerName:"Person at Hospital",width:100},{field:"relation_to_parent",headerName:"Relation to Patient",width:100},{field:"person_contact",headerName:"Person Contact",width:100},{field:"treatment_count",headerName:"Treatment Count",width:100},{field:"funding_count",headerName:"Funding Count",width:100},{field:"physiotherapie_count",headerName:"Physiotherapie Count",width:100},{field:"psychosocials_count",headerName:"Psychosocials Count",width:100},{field:"total_funding",headerName:"Total Funding",width:100},{field:"total_surgery",headerName:"Total Surgery",width:100},{field:"total_skin_graft",headerName:"Total Skin Graft",width:100},{field:"total_debridement",headerName:"Total Debridement",width:100},{field:"total_amputation",headerName:"Total Amputation",width:100},{field:"total_dressing",headerName:"Total Dressing",width:100},{field:"total_nutritional",headerName:"Nutritional Support",width:100},{field:"total_medical_support",headerName:"Medical Support",width:100}],loading:Z,initialState:{pagination:{paginationModel:{pageSize:5}}},disableRowSelectionOnClick:!0,slots:{toolbar:p.n}})})]})})},N=function(){return(0,w.jsx)(n.Z,{title:"Patients List",children:(0,w.jsx)(_,{})})}}}]);