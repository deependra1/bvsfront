"use strict";(self.webpackChunkmantis_free_react_admin_template=self.webpackChunkmantis_free_react_admin_template||[]).push([[884],{39884:function(e,i,n){n.r(i),n.d(i,{default:function(){return M}});var t=n(64611),a=n(9019),l=n(29439),r=n(1413),s=n(45987),o=n(47313),c=n(61113),d=n(42832),u=n(23306),m=n(49914),h=n(15480),y=n(69099),f=n(17592),p=n(94469),x=n(33604),Z=n(96467),g=n(4117),j=n(47131),v=n(11198),_=n(65954),b=n(51997),C=n(35099),w=n(1010),F=n(75506),S=n(90842),k=n(7410),P=n(3463),z=n(46417),A=["children","onClose"],D=(0,f.ZP)(p.Z)((function(e){var i=e.theme;return{"& .MuiDialogContent-root":{padding:i.spacing(2)},"& .MuiDialogActions-root":{padding:i.spacing(1)}}}));function B(e){var i=e.children,n=e.onClose,t=(0,s.Z)(e,A);return(0,z.jsxs)(x.Z,(0,r.Z)((0,r.Z)({sx:{m:0,p:2}},t),{},{children:[i,n?(0,z.jsx)(j.Z,{"aria-label":"close",onClick:n,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}},children:(0,z.jsx)(v.Z,{})}):null]}))}function E(){var e=o.useState(!1),i=(0,l.Z)(e,2),n=i[0],t=i[1],r=(0,S.Ds)().enqueueSnackbar,s=o.useState({}),f=(0,l.Z)(s,2),p=f[0],x=f[1],v=(0,w.ZP)("/family/",F._,{revalidateOnMount:!0}),A=v.data,E=v.error,M=v.isLoading,q=v.mutate,O=[{field:"family_type",headerName:"Family Type",width:200,editable:!0},{field:"actions",headerName:"Actions",type:"actions",width:100,renderCell:function(e){return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(j.Z,{onClick:function(){return G(e)},sx:{color:"#9c27b0"},children:(0,z.jsx)(_.Z,{})}),(0,z.jsx)(j.Z,{onClick:function(){return L(e.id)},sx:{color:"#f44336"},children:(0,z.jsx)(b.Z,{})})]})}}],R=function(){x({}),t(!1)},G=function(e){x(e.row),t(!0)},L=function(e){confirm("Are you sure to delete family?")&&F.Z.delete("/family/".concat(e,"/")).then((function(){r("Famaly Deleted successfully!!!",{variant:"success"}),q()})).catch((function(){r("something wents wrong!!!",{variant:"error"})}))};return M?(0,z.jsx)("div",{children:"Loading..."}):E?(0,z.jsx)("div",{children:"Error on Family "}):(0,z.jsxs)("div",{children:[(0,z.jsxs)(a.ZP,{container:!0,spacing:3,children:[(0,z.jsx)(a.ZP,{item:!0,xs:12,md:4,children:(0,z.jsx)(c.Z,{variant:"h3",gutterBottom:!0,children:"Family Detail"})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,md:6}),(0,z.jsx)(a.ZP,{item:!0,xs:12,md:2,children:(0,z.jsx)(y.Z,{variant:"outlined",onClick:function(){t(!0)},children:"Add Family"})})]}),(0,z.jsx)(C._,{rows:A,columns:O,initialState:{pagination:{paginationModel:{pageSize:5}}},pageSizeOptions:[5],disableRowSelectionOnClick:!0}),(0,z.jsxs)(D,{onClose:R,"aria-labelledby":"customized-dialog-title",open:n,children:[(0,z.jsx)(B,{id:"customized-dialog-title",onClose:R,children:p.id?"Update Family Group":"Add Family Group"}),(0,z.jsx)(k.J9,{enableReinitialize:!0,initialValues:{family_type:(null===p||void 0===p?void 0:p.family_type)||""},validationSchema:P.Ry().shape({family_type:P.Z_().required("Famaly type is required")}),onSubmit:function(e,i){var n=i.setErrors,a=i.setStatus,l=i.setSubmitting;p.id?F.Z.put("/family/".concat(p.id,"/"),e).then((function(){r("Family updated successfully!!!",{variant:"success"}),a({success:!1}),l(!1),q(),x({})})).catch((function(e){r("Something went wrong while adding the family!!!",{variant:"error"}),a({success:!1}),n({submit:e.message}),l(!1)})):F.Z.post("/family/",e).then((function(){r("Family added successfully!!!",{variant:"success"}),a({success:!1}),l(!1),q()})).catch((function(e){r("Something went wrong while adding the family!!!",{variant:"error"}),a({success:!1}),n({submit:e.message}),l(!1)})),t(!1)},children:function(e){var i=e.errors,n=e.handleChange,t=e.handleSubmit,l=e.isSubmitting,r=e.touched,s=e.values,o=e.handleBlur;return(0,z.jsxs)(k.l0,{noValidate:!0,children:[(0,z.jsx)(Z.Z,{dividers:!0,children:(0,z.jsx)(a.ZP,{container:!0,spacing:3,children:(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsxs)(d.Z,{spacing:1,children:[(0,z.jsx)(u.Z,{htmlFor:"family_type",children:"Family*"}),(0,z.jsx)(m.Z,{fullWidth:!0,id:"family_type",type:"text",value:s.family_type,name:"family_type",onBlur:o,onChange:n,placeholder:"Enter family type",error:Boolean(r.family_type&&i.family_type)}),r.family_type&&i.family_type&&(0,z.jsx)(h.Z,{error:!0,id:"standard-weight-helper-text-family_type",children:i.family_type})]})})})}),(0,z.jsxs)(g.Z,{children:[(0,z.jsx)(y.Z,{autoFocus:!0,variant:"outlined",disableElevation:!0,disabled:l,onClick:t,color:"primary",children:p.id?"Update":"Save"}),(0,z.jsx)(y.Z,{autoFocus:!0,variant:"outlined",color:"error",onClick:R,children:"Cancel"})]})]})}})]})]})}var M=function(){return(0,z.jsx)(t.Z,{title:"Family Types",children:(0,z.jsx)(a.ZP,{container:!0,spacing:3,children:(0,z.jsx)(a.ZP,{item:!0,xs:12,md:12,children:(0,z.jsx)(E,{})})})})}}}]);