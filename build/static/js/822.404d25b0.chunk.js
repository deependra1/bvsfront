"use strict";(self.webpackChunkmantis_free_react_admin_template=self.webpackChunkmantis_free_react_admin_template||[]).push([[822],{75506:function(e,t,i){i.d(t,{_:function(){return u}});var r=i(74165),n=i(15861),a=i(56573),o=i(65470),s=i.n(o),l=i(77287),d=a.Z.create({baseURL:"https://bvsnepal.org/api",headers:{"Content-Type":"application/json"}});d.interceptors.request.use(function(){var e=(0,n.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.headers.Authorization="Bearer ".concat((0,l.hP)()),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d.interceptors.response.use((function(e){return Promise.resolve(e)}),(function(e){return Promise.reject(e)}));var c=function(){var e=(0,n.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.Z.post("/auth/refresh/",{refresh:(0,l.YV)()},{baseURL:"https://bvsnepal.org/api"}).then((function(e){var i=e.data.access;t.response.config.headers.Authorization="Bearer "+i,localStorage.setItem("auth",JSON.stringify({access:i,refresh:(0,l.YV)(),user:(0,l.PR)()}))})).catch((function(){localStorage.removeItem("auth")})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function u(e){return d.get(e).then((function(e){return e.data}))}s()(d,c),t.Z=d},48822:function(e,t,i){i.r(t),i.d(t,{default:function(){return O}});var r=i(64611),n=i(9019),a=i(61113),o=i(42832),s=i(58467),l=i(1010),d=i(75506),c=i(19536),u=i(66212),h=i(29439),p=i(1413),m=i(45987),f=i(47313),x=i(23306),Z=i(24631),_=i(15480),v=i(49914),j=i(69099),g=i(17592),w=i(94469),y=i(33604),b=i(96467),P=i(4117),C=i(47131),S=i(11198),B=i(65954),E=i(51997),M=i(64229),k=i(90842),F=i(7410),N=i(3463),z=i(46417),D=["children","onClose"],A=(0,g.ZP)(w.Z)((function(e){var t=e.theme;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}}));function R(e){var t=e.children,i=e.onClose,r=(0,m.Z)(e,D);return(0,z.jsxs)(y.Z,(0,p.Z)((0,p.Z)({sx:{m:0,p:2}},r),{},{children:[t,i?(0,z.jsx)(C.Z,{"aria-label":"close",onClick:i,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}},children:(0,z.jsx)(S.Z,{})}):null]}))}function L(){var e=f.useState(!1),t=(0,h.Z)(e,2),i=t[0],r=t[1],c=(0,s.UO)().patientId,u=(0,k.Ds)().enqueueSnackbar,p=f.useState(c),m=(0,h.Z)(p,2),g=m[0],w=m[1],y=f.useState({}),S=(0,h.Z)(y,2),D=S[0],L=S[1];f.useEffect((function(){w(c)}),[c]);var O=(0,l.ZP)("/patient/".concat(g,"/physiotherapy/"),d._,{revalidateOnMount:!0}),I=O.data,V=O.error,W=O.isLoading,U=O.mutate,H=[{field:"initial_status",headerName:"Inital Status",width:100,editable:!0},{field:"applied_methods",headerName:"Applied Methods",width:100,editable:!0},{field:"observation",headerName:"Observation",width:100,editable:!0},{field:"current_status",headerName:"Current Status",width:100,editable:!0},{field:"mode_of_followup",headerName:"Mode of Followup",width:100,editable:!0},{field:"followed_by",headerName:"Followed By",width:100,editable:!0},{field:"actions",headerName:"Actions",type:"actions",width:100,renderCell:function(e){return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(C.Z,{onClick:function(){return q(e)},sx:{color:"#9c27b0"},children:(0,z.jsx)(B.Z,{})}),(0,z.jsx)(C.Z,{onClick:function(){return Y(e.id)},sx:{color:"#f44336"},children:(0,z.jsx)(E.Z,{})})]})}}],T=function(){r(!1)},q=function(e){L(e.row),r(!0)},Y=function(e){confirm("Are you sure to delete physiotherapy data?")&&d.Z.delete("/patient/".concat(c,"/physiotherapy/").concat(e,"/")).then((function(){u("physiotherapy Deleted successfully!!!",{variant:"success"}),U()})).catch((function(){u("something wents wrong!!!",{variant:"error"})}))};return W?(0,z.jsx)("div",{children:"Loading..."}):V?(0,z.jsx)("div",{children:"Error on physiotherapy data"}):(0,z.jsxs)("div",{children:[(0,z.jsxs)(n.ZP,{container:!0,spacing:3,children:[(0,z.jsx)(n.ZP,{item:!0,xs:12,md:4,children:(0,z.jsx)(a.Z,{variant:"h3",gutterBottom:!0,children:"Physiotherapy Detail"})}),(0,z.jsx)(n.ZP,{item:!0,xs:12,md:6}),(0,z.jsx)(n.ZP,{item:!0,xs:12,md:2,children:(0,z.jsx)(j.Z,{variant:"outlined",onClick:function(){r(!0)},children:"Add Physiotherapy"})})]}),(0,z.jsx)(M._,{rows:I,columns:H,initialState:{pagination:{paginationModel:{pageSize:5}}},pageSizeOptions:[5],disableRowSelectionOnClick:!0}),(0,z.jsxs)(A,{onClose:T,"aria-labelledby":"customized-dialog-title",open:i,children:[(0,z.jsx)(R,{id:"customized-dialog-title",onClose:T,children:D.id?"Update Physiotherapy Data":"Add Physiotherapy Data"}),(0,z.jsx)(F.J9,{enableReinitialize:!0,initialValues:{patient:c,initial_status:(null===D||void 0===D?void 0:D.initial_status)||"",applied_methods:(null===D||void 0===D?void 0:D.applied_methods)||"",dischared_status:(null===D||void 0===D?void 0:D.dischared_status)||"",observation:(null===D||void 0===D?void 0:D.observation)||"",current_status:(null===D||void 0===D?void 0:D.current_status)||"",mode_of_followup:(null===D||void 0===D?void 0:D.mode_of_followup)||"",followed_by:(null===D||void 0===D?void 0:D.followed_by)||""},validationSchema:N.Ry().shape({initial_status:N.Z_().required("Client History is required")}),onSubmit:function(e,t){var i=t.setErrors,n=t.setStatus,a=t.setSubmitting;D.id?d.Z.put("/patient/".concat(c,"/physiotherapy/").concat(D.id,"/"),e).then((function(){u("physiotherapy updated successfully!!!",{variant:"success"}),n({success:!1}),a(!1),U(),L({})})).catch((function(e){u("Something went wrong while adding the physiotherapy!!!",{variant:"error"}),n({success:!1}),i({submit:e.message}),a(!1)})):d.Z.post("/patient/".concat(c,"/physiotherapy/"),e).then((function(){u("physiotherapy added successfully!!!",{variant:"success"}),n({success:!1}),a(!1),U()})).catch((function(e){u("Something went wrong while adding the physiotherapy!!!",{variant:"error"}),n({success:!1}),i({submit:e.message}),a(!1)})),r(!1)},children:function(e){var t=e.errors,i=e.handleChange,r=e.handleSubmit,a=e.isSubmitting,s=e.touched,l=e.values,d=e.handleBlur;return(0,z.jsxs)(F.l0,{noValidate:!0,children:[(0,z.jsx)(b.Z,{dividers:!0,children:(0,z.jsxs)(n.ZP,{container:!0,spacing:3,children:[(0,z.jsx)(n.ZP,{item:!0,xs:12,md:6,children:(0,z.jsxs)(o.Z,{spacing:1,children:[(0,z.jsx)(x.Z,{htmlFor:"initial_status",children:"Initial Status"}),(0,z.jsx)(Z.Z,{fullWidth:!0,multiline:!0,rows:3,value:l.initial_status,name:"initial_status",onBlur:d,onChange:i,placeholder:"Enter initial_status name",error:Boolean(s.initial_status&&t.initial_status)}),s.initial_status&&t.initial_status&&(0,z.jsx)(_.Z,{error:!0,id:"standard-weight-helper-text-initial_status",children:t.initial_status})]})}),(0,z.jsx)(n.ZP,{item:!0,xs:12,md:6,children:(0,z.jsxs)(o.Z,{spacing:1,children:[(0,z.jsx)(x.Z,{htmlFor:"applied_methods",children:"Applied Method"}),(0,z.jsx)(Z.Z,{fullWidth:!0,multiline:!0,rows:3,value:l.applied_methods,name:"applied_methods",onBlur:d,onChange:i,placeholder:"Enter applied_methods name",error:Boolean(s.applied_methods&&t.applied_methods)}),s.applied_methods&&t.applied_methods&&(0,z.jsx)(_.Z,{error:!0,id:"standard-weight-helper-text-applied_methods",children:t.applied_methods})]})}),(0,z.jsx)(n.ZP,{item:!0,xs:12,md:6,children:(0,z.jsxs)(o.Z,{spacing:1,children:[(0,z.jsx)(x.Z,{htmlFor:"dischared_status",children:"Dischared Status"}),(0,z.jsx)(Z.Z,{fullWidth:!0,multiline:!0,rows:3,value:l.dischared_status,name:"dischared_status",onBlur:d,onChange:i,placeholder:"Enter dischared_status name",error:Boolean(s.dischared_status&&t.dischared_status)}),s.dischared_status&&t.dischared_status&&(0,z.jsx)(_.Z,{error:!0,id:"standard-weight-helper-text-dischared_status",children:t.dischared_status})]})}),(0,z.jsx)(n.ZP,{item:!0,xs:12,md:6,children:(0,z.jsxs)(o.Z,{spacing:1,children:[(0,z.jsx)(x.Z,{htmlFor:"observation",children:" Observation"}),(0,z.jsx)(Z.Z,{fullWidth:!0,multiline:!0,rows:3,value:l.observation,name:"observation",onBlur:d,onChange:i,placeholder:"Enter observation",error:Boolean(s.observation&&t.observation)}),s.observation&&t.observation&&(0,z.jsx)(_.Z,{error:!0,id:"standard-weight-helper-text-observation",children:t.observation})]})}),(0,z.jsx)(n.ZP,{item:!0,xs:12,md:6,children:(0,z.jsxs)(o.Z,{spacing:1,children:[(0,z.jsx)(x.Z,{htmlFor:"current_status",children:"Current Status"}),(0,z.jsx)(Z.Z,{fullWidth:!0,multiline:!0,rows:3,value:l.current_status,name:"current_status",onBlur:d,onChange:i,placeholder:"Enter current_status name",error:Boolean(s.current_status&&t.current_status)}),s.current_status&&t.current_status&&(0,z.jsx)(_.Z,{error:!0,id:"standard-weight-helper-text-current_status",children:t.current_status})]})}),(0,z.jsx)(n.ZP,{item:!0,xs:12,md:6,children:(0,z.jsxs)(o.Z,{spacing:1,children:[(0,z.jsx)(x.Z,{htmlFor:"mode_of_followup",children:" Mode of Followup"}),(0,z.jsx)(Z.Z,{fullWidth:!0,multiline:!0,rows:3,value:l.mode_of_followup,name:"mode_of_followup",onBlur:d,onChange:i,placeholder:"Enter mode_of_followup name",error:Boolean(s.mode_of_followup&&t.mode_of_followup)}),s.mode_of_followup&&t.mode_of_followup&&(0,z.jsx)(_.Z,{error:!0,id:"standard-weight-helper-text-mode_of_followup",children:t.mode_of_followup})]})}),(0,z.jsx)(n.ZP,{item:!0,xs:12,md:6,children:(0,z.jsxs)(o.Z,{spacing:1,children:[(0,z.jsx)(x.Z,{htmlFor:"followed_by",children:"Followed By"}),(0,z.jsx)(v.Z,{fullWidth:!0,id:"followed_by",type:"text",value:l.followed_by,name:"followed_by",onBlur:d,onChange:i,placeholder:"Enter followed_by name",error:Boolean(s.followed_by&&t.followed_by)}),s.followed_by&&t.followed_by&&(0,z.jsx)(_.Z,{error:!0,id:"standard-weight-helper-text-followed_by",children:t.followed_by})]})})]})}),(0,z.jsxs)(P.Z,{children:[(0,z.jsx)(j.Z,{autoFocus:!0,variant:"outlined",disableElevation:!0,disabled:a,onClick:r,color:"primary",children:D.id?"Update":"Save"}),(0,z.jsx)(j.Z,{autoFocus:!0,variant:"outlined",color:"error",onClick:T,children:"Cancel"})]})]})}})]})]})}var O=function(){var e=(0,s.UO)().patientId,t=(0,l.ZP)("/patient/".concat(e,"/"),d._),i=t.data,h=t.error;return t.isLoading?(0,z.jsx)("div",{children:"Loading..."}):h?(0,z.jsx)("div",{children:"Error on Treatment"}):(0,z.jsx)(r.Z,{title:"Patients Physiotherapy Detail",children:(0,z.jsxs)(n.ZP,{container:!0,spacing:3,children:[(0,z.jsx)(n.ZP,{item:!0,xs:12,md:12,children:(0,z.jsx)(a.Z,{variant:"h1",align:"center",children:"BVS-NEPAL"})}),(0,z.jsx)(n.ZP,{item:!0,xs:12,md:12,children:(0,z.jsx)(a.Z,{variant:"h3",align:"center",children:i.registration_location})}),(0,z.jsx)(n.ZP,{item:!0,xs:12,md:5,children:(0,z.jsxs)(o.Z,{direction:"row",spacing:2,children:[(0,z.jsx)(a.Z,{variant:"h5",color:"primary",children:"Patient Name:"}),(0,z.jsxs)(a.Z,{variant:"h6",children:[i.fname," ",i.mname," ",i.lname]})]})}),(0,z.jsx)(n.ZP,{item:!0,xs:12,md:3}),(0,z.jsx)(n.ZP,{item:!0,xs:12,md:4,children:(0,z.jsxs)(o.Z,{direction:"row",spacing:2,children:[(0,z.jsx)(a.Z,{variant:"h5",align:"right",color:"primary",children:"Registration No:"}),(0,z.jsx)(a.Z,{variant:"h6",align:"right",children:i.registration_number})]})}),(0,z.jsx)(n.ZP,{item:!0,xs:12,md:12,children:(0,z.jsx)(c.Z,{children:(0,z.jsx)(u.Z,{label:"PHYSIOTHERAPY",color:"primary"})})}),(0,z.jsx)(n.ZP,{item:!0,xs:12,md:12,children:(0,z.jsx)(L,{})})]})})}},11198:function(e,t,i){var r=i(91941);t.Z=void 0;var n=r(i(45045)),a=i(46417),o=(0,n.default)((0,a.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.Z=o},51997:function(e,t,i){var r=i(91941);t.Z=void 0;var n=r(i(45045)),a=i(46417),o=(0,n.default)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.Z=o},65954:function(e,t,i){var r=i(91941);t.Z=void 0;var n=r(i(45045)),a=i(46417),o=(0,n.default)((0,a.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.Z=o},33604:function(e,t,i){var r=i(1413),n=i(45987),a=i(47313),o=i(83061),s=i(21921),l=i(61113),d=i(17592),c=i(77342),u=i(93174),h=i(63909),p=i(46417),m=["className","id"],f=(0,d.ZP)(l.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:function(e,t){return t.root}})({padding:"16px 24px",flex:"0 0 auto"}),x=a.forwardRef((function(e,t){var i=(0,c.Z)({props:e,name:"MuiDialogTitle"}),l=i.className,d=i.id,x=(0,n.Z)(i,m),Z=i,_=function(e){var t=e.classes;return(0,s.Z)({root:["root"]},u.a,t)}(Z),v=a.useContext(h.Z).titleId,j=void 0===v?d:v;return(0,p.jsx)(f,(0,r.Z)({component:"h2",className:(0,o.Z)(_.root,l),ownerState:Z,ref:t,variant:"h6",id:null!=d?d:j},x))}));t.Z=x}}]);