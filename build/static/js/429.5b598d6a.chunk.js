(self.webpackChunkmantis_free_react_admin_template=self.webpackChunkmantis_free_react_admin_template||[]).push([[429],{75506:function(e,t,r){"use strict";r.d(t,{_:function(){return l}});var n=r(74165),a=r(15861),i=r(56573),o=r(65470),c=r.n(o),s=r(77287),u=i.Z.create({baseURL:"https://bvsnepal.org/api",headers:{"Content-Type":"application/json"}});u.interceptors.request.use(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.headers.Authorization="Bearer ".concat((0,s.hP)()),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),u.interceptors.response.use((function(e){return Promise.resolve(e)}),(function(e){return Promise.reject(e)}));var d=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.Z.post("/auth/refresh/",{refresh:(0,s.YV)()},{baseURL:"https://bvsnepal.org/api"}).then((function(e){var r=e.data.access;t.response.config.headers.Authorization="Bearer "+r,localStorage.setItem("auth",JSON.stringify({access:r,refresh:(0,s.YV)(),user:(0,s.PR)()}))})).catch((function(){localStorage.removeItem("auth")})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function l(e){return u.get(e).then((function(e){return e.data}))}c()(u,d),t.Z=u},49429:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var n=r(64611),a=r(74165),i=r(15861),o=r(29439),c=r(47313),s=r(99881),u=r(85281),d=r(9019),l=r(24631),h=r(69099),f=r(35099),p=r(85833),m=r(75506),w=r(46417),_=function(){var e=(0,c.useState)(""),t=(0,o.Z)(e,2),r=t[0],n=t[1],_=(0,c.useState)([]),g=(0,o.Z)(_,2),v=g[0],N=g[1],y=(0,c.useState)(!1),b=(0,o.Z)(y,2),I=b[0],C=b[1],R=(0,c.useState)(!1),x=(0,o.Z)(R,2),j=x[0],P=x[1],Z=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.prev=1,e.next=4,m.Z.get("/patient/post_treatment_patients/?search=".concat(r));case 4:t=e.sent,N(t.data),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),P(!0),console.log("Something went wrong!!!",e.t0);case 12:C(!1);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return j?(0,w.jsx)("div",{children:(0,w.jsx)(s.Z,{severity:"error",children:"Something went wrong!!! \u2014 Please contact your service provider!"})}):I?(0,w.jsx)("div",{children:(0,w.jsx)(u.Z,{color:"success"})}):(0,w.jsx)("div",{children:(0,w.jsxs)(d.ZP,{container:!0,spacing:3,children:[(0,w.jsxs)(d.ZP,{item:!0,xs:12,children:[(0,w.jsx)(l.Z,{variant:"outlined",placeholder:"Search...",value:r,onChange:function(e){n(e.target.value)}}),(0,w.jsx)(h.Z,{variant:"outlined",onClick:Z,sx:{padding:1,marginLeft:1},children:"Search"})]}),(0,w.jsx)(d.ZP,{item:!0,xs:12,children:(0,w.jsx)(f._,{rows:v,columns:[{field:"registration_number",headerName:"Registration Number",width:150,editable:!0},{field:"fiscal_year",headerName:"Fiscal Year",width:100,editable:!0},{field:"registration_date",headerName:"Registration Date",width:150,editable:!0},{field:"registration_location",headerName:"Branch Office",width:150,editable:!0},{field:"fullName",headerName:"Full name",width:200,valueGetter:function(e){return"".concat(e.row.fname||""," ").concat(e.row.mname||""," ").concat(e.row.lname||"")}},{field:"date_of_birth",headerName:"DOB",width:100},{field:"age",headerName:"Age(Y-M)",width:75,valueGetter:function(e){return"".concat(e.row.age_at_incident||""," - ").concat(e.row.month_at_incident||""," ")}},{field:"gender",headerName:"Gender",width:100},{field:"citizenship_no",headerName:"Citizenship No",width:100},{field:"patient_contact",headerName:"Contact",width:100},{field:"optional_contact",headerName:"Opt. Contact",width:100},{field:"patient_education",headerName:"Education",width:100},{field:"patient_language",headerName:"Language",width:100},{field:"patient_occupation",headerName:"Occupation",width:100,valueGetter:function(e){return"".concat(e.row.patient_occupation.occupation_name||"")}},{field:"ethnic_group",headerName:"Ethnicity",width:100,valueGetter:function(e){return"".concat(e.row.ethnic_group.ethnic_group||"")}},{field:"religion",headerName:"Religion",width:100,valueGetter:function(e){return"".concat(e.row.religion.religion||"")}},{field:"material_status",headerName:"Material",width:100},{field:"permanentAddress",headerName:"P Address",width:250,valueGetter:function(e){return"Nepal"===e.row.country?"".concat(e.row.tole||""," ",","," ").concat(e.row.local||""," ","-"," ").concat(e.row.ward||""," ",","," ").concat(e.row.district||""," ",","," ").concat(e.row.provence||""):"Foreign"===e.row.country?"".concat(e.row.foreign_address||""," "):void 0}},{field:"tempAddress",headerName:"Incident At",width:250,valueGetter:function(e){return"Nepal"===e.row.country2?"".concat(e.row.tole2||""," ",","," ").concat(e.row.local2||""," ","-"," ").concat(e.row.ward2||""," ",","," ").concat(e.row.district2||""," ",","," ").concat(e.row.provence2||""):"Foreign"===e.row.country2?"".concat(e.row.foreign_address2||""," "):void 0}},{field:"parents_contact",headerName:"Parents Contact",width:100},{field:"suppose_occupation",headerName:"Suppose Occupation",width:100,valueGetter:function(e){return"".concat(e.row.suppose_occupation.occupation_name||"")}},{field:"parents_occupation",headerName:"Parents Occupation",width:100,valueGetter:function(e){return"".concat(e.row.parents_occupation.occupation_name||"")}},{field:"family_type",headerName:"Family Type",width:100,valueGetter:function(e){return"".concat(e.row.family_type.family_type||"")}},{field:"number_of_child",headerName:"Number of Child",width:100},{field:"number_of_siblings",headerName:"Number of Siblings",width:100},{field:"economic_status",headerName:"Economic Status",width:100},{field:"family_support",headerName:"Family Support",width:100},{field:"pregnant_women",headerName:"Pregnant Women",width:100},{field:"lactating_mother",headerName:"Lactating Mother",width:100},{field:"with_disabilities",headerName:"With Disabilities",width:100},{field:"mental_illness",headerName:"Mental Illness",width:100},{field:"epilepsy",headerName:"Epilepsy",width:100},{field:"hiv_positive",headerName:"HIV",width:100},{field:"echo_other",headerName:"Other",width:100},{field:"date_of_incident",headerName:"Date of Incident",width:100},{field:"area_of_burn",headerName:"Area of Burn",width:100},{field:"percentage_of_burn",headerName:"Percentage Of Burn",width:100},{field:"degree_of_burn",headerName:"Degree Of Burn",width:100},{field:"burn_cause",headerName:"Burn Cause",width:100,valueGetter:function(e){return"".concat(e.row.burn_cause.burn_cause||"")}},{field:"burn_type",headerName:"Burn Type",width:100,valueGetter:function(e){return"".concat(e.row.burn_type.burn_type||"")}},{field:"place_of_incident",headerName:"Place of Incident",width:100},{field:"description_of_incident",headerName:"Description of Incident",width:100},{field:"person_at_hospital",headerName:"Person at Hospital",width:100},{field:"relation_to_parent",headerName:"Relation to Patient",width:100},{field:"person_contact",headerName:"Person Contact",width:100},{field:"treatment_count",headerName:"Treatment Count",width:100},{field:"funding_count",headerName:"Funding Count",width:100},{field:"physiotherapie_count",headerName:"Physiotherapie Count",width:100},{field:"psychosocials_count",headerName:"Psychosocials Count",width:100},{field:"total_funding",headerName:"Total Funding",width:100},{field:"total_surgery",headerName:"Total Surgery",width:100},{field:"total_skin_graft",headerName:"Total Skin Graft",width:100},{field:"total_debridement",headerName:"Total Debridement",width:100},{field:"total_amputation",headerName:"Total Amputation",width:100},{field:"total_dressing",headerName:"Total Dressing",width:100},{field:"total_nutritional",headerName:"Nutritional Support",width:100},{field:"total_medical_support",headerName:"Medical Support",width:100}],loading:I,initialState:{pagination:{paginationModel:{pageSize:5}}},disableRowSelectionOnClick:!0,slots:{toolbar:p.n}})})]})})},g=function(){return(0,w.jsx)(n.Z,{title:"Patients List",children:(0,w.jsx)(_,{})})}},65470:function(e,t,r){var n;e.exports=(n=r(44411),function(){"use strict";var e={593:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.resendFailedRequest=t.getRetryInstance=t.unsetCache=t.createRequestQueueInterceptor=t.createRefreshCall=t.shouldInterceptError=t.mergeOptions=t.defaultOptions=void 0;var n=r(300);t.defaultOptions={statusCodes:[401],pauseInstanceWhileRefreshing:!1},t.mergeOptions=function(e,t){return Object.assign(Object.assign(Object.assign({},e),{pauseInstanceWhileRefreshing:t.skipWhileRefreshing}),t)},t.shouldInterceptError=function(e,t,r,n){var a,i;return!!e&&!(null===(a=e.config)||void 0===a?void 0:a.skipAuthRefresh)&&!!(t.interceptNetworkError&&!e.response&&0===e.request.status||e.response&&((null==t?void 0:t.shouldRefresh)?t.shouldRefresh(e):null===(i=t.statusCodes)||void 0===i?void 0:i.includes(parseInt(e.response.status))))&&(e.response||(e.response={config:e.config}),!t.pauseInstanceWhileRefreshing||!n.skipInstances.includes(r))},t.createRefreshCall=function(e,t,r){return r.refreshCall||(r.refreshCall=t(e),"function"==typeof r.refreshCall.then)?r.refreshCall:(console.warn("axios-auth-refresh requires `refreshTokenCall` to return a promise."),Promise.reject())},t.createRequestQueueInterceptor=function(e,t,r){return void 0===t.requestQueueInterceptorId&&(t.requestQueueInterceptorId=e.interceptors.request.use((function(e){return t.refreshCall.catch((function(){throw new n.default.Cancel("Request call failed")})).then((function(){return r.onRetry?r.onRetry(e):e}))}))),t.requestQueueInterceptorId},t.unsetCache=function(e,t){e.interceptors.request.eject(t.requestQueueInterceptorId),t.requestQueueInterceptorId=void 0,t.refreshCall=void 0,t.skipInstances=t.skipInstances.filter((function(t){return t!==e}))},t.getRetryInstance=function(e,t){return t.retryInstance||e},t.resendFailedRequest=function(e,t){return e.config.skipAuthRefresh=!0,t(e.response.config)}},300:function(e){e.exports=n}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}var a={};return function(){var e=a;Object.defineProperty(e,"__esModule",{value:!0});var t=r(593);e.default=function(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("function"!=typeof r)throw new Error("axios-auth-refresh requires `refreshAuthCall` to be a function that returns a promise.");var a={skipInstances:[],refreshCall:void 0,requestQueueInterceptorId:void 0};return e.interceptors.response.use((function(e){return e}),(function(i){if(n=(0,t.mergeOptions)(t.defaultOptions,n),!(0,t.shouldInterceptError)(i,n,e,a))return Promise.reject(i);n.pauseInstanceWhileRefreshing&&a.skipInstances.push(e);var o=(0,t.createRefreshCall)(i,r,a);return(0,t.createRequestQueueInterceptor)(e,a,n),o.catch((function(e){return Promise.reject(e)})).then((function(){return(0,t.resendFailedRequest)(i,(0,t.getRetryInstance)(e,n))})).finally((function(){return(0,t.unsetCache)(e,a)}))}))}}(),a}())},44411:function(e,t,r){"use strict";e.exports=r.p+"static/media/axios.e7d77f0967a69d31d7fc.cjs"}}]);